webpackJsonp([1],{"+vOg":function(e,t,a){"use strict";a.d(t,"b",function(){return i}),a.d(t,"a",function(){return o});var r=a("Vjoj"),s=a("P7rh"),n=a("g0X3"),i=a("DmT9")(""),o=r();o.configure(s({storage:window.localStorage})).configure(n(i,{timeout:2e4}))},0:function(e,t){},1:function(e,t){},2:function(e,t){},"2d5O":function(e,t){},3:function(e,t){},4:function(e,t){},"4Vh3":function(e,t){e.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},"6ZSt":function(e,t){e.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},"7Ts1":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={name:"admin",data:function(){return{dialog:!1,drawer:null,items:[{icon:"supervisor_account",text:"Employees",url:"Employees"}]}},computed:{employeesListView:function(){return this.$store.getters["user/GET_EMPLOYEES_LIST_VIEW"]}},methods:{changeEmployeesView:function(){var e="grid"===this.employeesListView?"list":"grid";this.$store.commit("user/SET_EMPLOYEES_LIST_VIEW",e)}},props:{source:String}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-navigation-drawer",{attrs:{fixed:"",clipped:e.$vuetify.breakpoint.mdAndUp,app:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[a("v-list",{attrs:{dense:""}},[e._l(e.items,function(t){return[t.heading?a("v-layout",{key:t.heading,attrs:{row:"","align-center":""}},[a("v-flex",{attrs:{xs6:""}},[t.heading?a("v-subheader",[e._v("\n\t\t\t\t\t\t\t"+e._s(t.heading)+"\n\t\t\t\t\t\t")]):e._e()],1),e._v(" "),a("v-flex",{staticClass:"text-xs-center",attrs:{xs6:""}},[a("a",{staticClass:"body-2 black--text",attrs:{href:"#!"}},[e._v("EDIT")])])],1):t.children?a("v-list-group",{key:t.text,attrs:{"prepend-icon":t.model?t.icon:t["icon-alt"],"append-icon":""},model:{value:t.model,callback:function(a){e.$set(t,"model",a)},expression:"item.model"}},[a("v-list-tile",{attrs:{slot:"activator"},slot:"activator"},[a("v-list-tile-content",[a("v-list-tile-title",[e._v("\n\t\t\t\t\t\t\t\t"+e._s(t.text)+"\n\t\t\t\t\t\t\t")])],1)],1),e._v(" "),e._l(t.children,function(t,r){return a("v-list-tile",{key:r},[t.icon?a("v-list-tile-action",[a("v-icon",[e._v(e._s(t.icon))])],1):e._e(),e._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[e._v("\n\t\t\t\t\t\t\t\t"+e._s(t.text)+"\n\t\t\t\t\t\t\t")])],1)],1)})],2):a("v-list-tile",{key:t.text,attrs:{to:{name:t.url},ripple:""}},[a("v-list-tile-action",[a("v-icon",[e._v(e._s(t.icon))])],1),e._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[e._v("\n\t\t\t\t\t\t\t"+e._s(t.text)+"\n\t\t\t\t\t\t")])],1)],1)]})],2)],1),e._v(" "),a("v-toolbar",{attrs:{color:"blue darken-3",dark:"",app:"","clipped-left":e.$vuetify.breakpoint.mdAndUp,fixed:""}},[a("v-toolbar-title",{staticClass:"ml-0 pl-3",staticStyle:{width:"300px"}},[a("v-toolbar-side-icon",{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),e._v(" "),a("span",{staticClass:"hidden-sm-and-down"},[e._v("SSO Management")])],1),e._v(" "),a("v-text-field",{staticClass:"hidden-sm-and-down",attrs:{flat:"","solo-inverted":"","prepend-icon":"search",label:"Search"}}),e._v(" "),a("v-spacer"),e._v(" "),a("v-btn",{attrs:{icon:""},on:{click:e.changeEmployeesView}},["list"===e.employeesListView?a("v-icon",[e._v("apps")]):"grid"===e.employeesListView?a("v-icon",[e._v("list")]):e._e()],1)],1),e._v(" "),a("v-content",[a("v-container",{attrs:{fluid:""}},[a("router-view")],1)],1)],1)},staticRenderFns:[]},n=a("VU/8")(r,s,!1,null,null,null);t.default=n.exports},"7zck":function(e,t){},"8YCc":function(e,t){e.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},DmgS:function(e,t){},KYqO:function(e,t){e.exports={_args:[["elliptic@6.4.0","C:\\Users\\mirdc\\Desktop\\allproject\\eims\\frontend"]],_development:!0,_from:"elliptic@6.4.0",_id:"elliptic@6.4.0",_inBundle:!1,_integrity:"sha1-ysmvh2LIWDYYcAPI3+GT5eLq5d8=",_location:"/elliptic",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"elliptic@6.4.0",name:"elliptic",escapedName:"elliptic",rawSpec:"6.4.0",saveSpec:null,fetchSpec:"6.4.0"},_requiredBy:["/browserify-sign","/create-ecdh"],_resolved:"https://registry.npmjs.org/elliptic/-/elliptic-6.4.0.tgz",_spec:"6.4.0",_where:"C:\\Users\\mirdc\\Desktop\\allproject\\eims\\frontend",author:{name:"Fedor Indutny",email:"fedor@indutny.com"},bugs:{url:"https://github.com/indutny/elliptic/issues"},dependencies:{"bn.js":"^4.4.0",brorand:"^1.0.1","hash.js":"^1.0.0","hmac-drbg":"^1.0.0",inherits:"^2.0.1","minimalistic-assert":"^1.0.0","minimalistic-crypto-utils":"^1.0.0"},description:"EC cryptography",devDependencies:{brfs:"^1.4.3",coveralls:"^2.11.3",grunt:"^0.4.5","grunt-browserify":"^5.0.0","grunt-cli":"^1.2.0","grunt-contrib-connect":"^1.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^1.0.1","grunt-mocha-istanbul":"^3.0.1","grunt-saucelabs":"^8.6.2",istanbul:"^0.4.2",jscs:"^2.9.0",jshint:"^2.6.0",mocha:"^2.1.0"},files:["lib"],homepage:"https://github.com/indutny/elliptic",keywords:["EC","Elliptic","curve","Cryptography"],license:"MIT",main:"lib/elliptic.js",name:"elliptic",repository:{type:"git",url:"git+ssh://git@github.com/indutny/elliptic.git"},scripts:{jscs:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",jshint:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",lint:"npm run jscs && npm run jshint",test:"npm run lint && npm run unit",unit:"istanbul test _mocha --reporter=spec test/index.js",version:"grunt dist && git add dist/"},version:"6.4.0"}},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("Xxa5"),s=a.n(r),n=a("Dd8w"),i=a.n(n),o=a("exGp"),c=a.n(o),d=a("7+uW"),l=a("/ocq"),f=a("+vOg"),u=a("BcvJ"),v={data:function(){return{valid:!0,idNumber:null,password:null,idNumberRules:[function(e){return!!e||"Enter your ID number"}],passwordRules:[function(e){return!!e||"Enter your password"}],color:"#1565C0",authError:!1,icon:!0,loading:!1}},methods:{submit:function(){var e=this;return c()(s.a.mark(function t(){var a,r,n,i,o,c;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(a=new u).is().min(10).is().max(100).has().uppercase().has().lowercase().has().digits(1).has().not().spaces().has().symbols().is().not().oneOf(["Passw0rd","Password123","P@ssw0rd123"]),r=a.validate(e.password),console.log("isPasswordValid",r),e.loading=!0,t.prev=5,t.next=8,e.$store.dispatch("account/LOGIN",{idNumber:e.idNumber,password:e.password});case 8:if(n=t.sent,i=n.userId,o=n.userData,r){t.next=23;break}return t.prev=12,t.next=15,f.a.service("users").patch(i,{requirePasswordChange:!0});case 15:e.$store.commit("account/SET_REQUIRE_PASSWORD_CHANGE",!0),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(12),console.error("Error updating requirePasswordChange:",t.t0);case 21:t.next=32;break;case 23:return t.prev=23,t.next=26,f.a.service("users").patch(i,{requirePasswordChange:!1});case 26:e.$store.commit("account/SET_REQUIRE_PASSWORD_CHANGE",!1),t.next=32;break;case 29:t.prev=29,t.t1=t.catch(23),console.error("Error updating requirePasswordChange:",t.t1);case 32:if(!(c=e.$route.query.referer)){t.next=36;break}return location.replace(c),t.abrupt("return");case 36:if(!(o.roles&&o.roles.sso&&o.roles.sso.includes("admin"))){t.next=61;break}if(r){t.next=49;break}return t.prev=38,t.next=41,f.a.service("users").patch(i,{requirePasswordChange:!0});case 41:e.$store.commit("account/SET_REQUIRE_PASSWORD_CHANGE",!0),t.next=47;break;case 44:t.prev=44,t.t2=t.catch(38),console.error("Error updating requirePasswordChange:",t.t2);case 47:t.next=58;break;case 49:return t.prev=49,t.next=52,f.a.service("users").patch(i,{requirePasswordChange:!1});case 52:e.$store.commit("account/SET_REQUIRE_PASSWORD_CHANGE",!1),t.next=58;break;case 55:t.prev=55,t.t3=t.catch(49),console.error("Error updating requirePasswordChange:",t.t3);case 58:e.$router.push({name:"Employees"}),t.next=62;break;case 61:e.$router.push({name:"Profile"});case 62:t.next=68;break;case 64:t.prev=64,t.t4=t.catch(5),e.$snotify.error("Invalid credentials"),console.error("ERROR!",t.t4);case 68:e.loading=!1;case 69:case"end":return t.stop()}},t,e,[[5,64],[12,18],[23,29],[38,44],[49,55]])}))()}}},p={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form-container"},[a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm8:"",md5:""}},[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-card",{staticClass:"px-5 py-4",attrs:{height:"500",tile:""}},[a("v-card-title",[a("div",{staticClass:" grey--text text--darken-4"},[a("div",{staticClass:"headline"},[e._v("Sign in")]),e._v(" "),a("p",[e._v("Single Sign-On Management System")]),e._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:e.authError,expression:"authError"}],staticClass:"red--text text--darken-1"},[e._v("\n\t\t\t\t\t\t\t\t\tID number or password is incorrect.\n\t\t\t\t\t\t\t\t")])])]),e._v(" "),a("v-card-text",[a("v-text-field",{attrs:{label:"ID Number",type:"text",rules:e.idNumberRules,required:""},on:{keyup:function(t){return"keyCode"in t&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submit(t)}},nativeOn:{keyup:function(t){return"keyCode"in t&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submit(t)}},model:{value:e.idNumber,callback:function(t){e.idNumber=t},expression:"idNumber"}}),e._v(" "),a("v-text-field",{attrs:{label:"Password","append-icon":e.icon?"visibility":"visibility_off",type:e.icon?"password":"text",required:"",rules:e.passwordRules},on:{"click:append":function(t){e.icon=!e.icon}},nativeOn:{keyup:function(t){return"keyCode"in t&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submit(t)}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),e._v(" "),a("v-card-actions",[a("v-spacer"),e._v(" "),a("v-btn",{staticClass:"blue darken-1 white--text",attrs:{loading:e.loading,disabled:e.loading},on:{click:e.submit}},[e._v("Login")])],1)],1)],1)],1)],1)],1),e._v(" "),a("vue-snotify")],1)},staticRenderFns:[]};var m=a("VU/8")(v,p,!1,function(e){a("mUj8")},"data-v-bacf5026",null).exports,b=a("mvHQ"),h=a.n(b),_=a("//Fk"),x=a.n(_),g=a("fZjL"),y=a.n(g);function w(e){return new x.a(function(t,a){var r=new FileReader;r.readAsDataURL(e),r.onload=function(){console.log(this),t(r.result)},r.onerror=function(e){a(e)}})}function k(e){return new x.a(function(t){var a=new Image;a.onload=function(){var e=document.createElement("canvas");e.width=this.naturalWidth,e.height=this.naturalHeight,e.getContext("2d").drawImage(this,0,0),t({data:e.toDataURL("image/png"),width:e.width,height:e.height})},a.src=e})}function E(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:300,s=Math.min(a/e,r/t);return{width:e*s,height:t*s}}function I(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new x.a(function(r){var s=document.createElement("img");s.onload=function(){var e=document.createElement("canvas"),s=e.getContext("2d");t&&a?(e.width=t,e.height=a,s.drawImage(this,0,0,t,a)):(e.width=this.width,e.height=this.height,s.drawImage(this,0,0,this.width,this.height)),r(e.toDataURL())},s.crossOrigin="anonymous",s.src=e})}var S={props:{loaderDialog:Boolean}},D={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:e.loaderDialog,callback:function(t){e.loaderDialog=t},expression:"loaderDialog"}},[a("v-card",{attrs:{color:"primary",dark:""}},[a("v-card-text",[e._v("\n\t\t\tPlease stand by\n\t\t\t"),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1)},staticRenderFns:[]},A=a("VU/8")(S,D,!1,null,null,null).exports,P={data:function(){return{divisions:[],sections:[],editLayout:!1,search:null,loading:!1,rowsPerPage:[10,20,35,{text:"$vuetify.dataIterator.rowsPerPageAll",value:-1}],headers:[{text:"ID number",align:"left",value:"emp_id"},{text:"First name",value:"personal_information.first_name"},{text:"Middle name",value:"personal_information.middle_name"},{text:"Surname",value:"personal_information.surname"},{text:"Appointment",value:"extra_information.appointment"},{text:"Division",value:"extra_information.division.text"},{text:"Actions",value:"_id",sortable:!1}],valid:!0,infoDialog:!1,infoDialogTitle:null,rolesRules:[function(e){return e&&function(e){try{var t=JSON.parse(e);return y()(t).length>0}catch(e){return!1}}(e)||"Invalid string. Data can't be parsed."}],roles:null,loaderDialog:!1,selectedItem:{}}},created:function(){var e=this;return c()(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.$store.dispatch("employee/GET_EMPLOYEES");case 3:e.loading=!1;case 4:case"end":return t.stop()}},t,e)}))()},methods:{fetchDivisions:function(){var e=this;return c()(s.a.mark(function t(){var a,r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("division/GET_DIVISIONS");case 2:a=t.sent,e.divisions=a.map(function(e){return{text:e.name,sections:e.sections.map(function(e){return{text:e.name,value:e.name}}),value:e.name}}),e.selectedItem.extra_information&&e.selectedItem.extra_information.division&&(r=e.divisions.filter(function(t){return t.text===e.selectedItem.extra_information.division.text}),e.sections=r[0].sections,console.log(r.sections));case 5:case"end":return t.stop()}},t,e)}))()},editDialog:function(e){this.fetchDivisions(),this.roles=null,this.editLayout=!0,this.selectedItem=e},updateProfile:function(){f.a.service("users").patch(this.selectedItem._id,this.selectedItem),this.$snotify.success("Has been successfully updated")},openInfoDialog:function(e){var t=this;this.roles=null,this.selectedItem=e,f.a.service("users").get(e._id).then(function(e){t.loaderDialog=!1,e.roles&&(t.roles=h()(e.roles)),t.infoDialogTitle="Roles",t.infoDialog=!0})},saveRoles:function(){this.saveInformation("roles",this.roles)},saveInformation:function(e,t){var a=this;this.$refs.form.validate()&&("roles"===e&&(t=JSON.parse(t)),this.loaderDialog=!0,this.$store.dispatch("account/UPDATE_INFORMATION",{field:e,data:t,userId:this.selectedItem._id}).then(function(e){a.loaderDialog=!1,a.$snotify.success("Roles has been successfully updated")}).catch(function(e){console.log(e),a.loaderDialog=!1,a.$snotify.error("An error occurred")}))},fetchInformation:function(e){return f.a.service("users").get(e)},resetPassword:function(e,t){var a=this;return c()(s.a.mark(function r(){return s.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,confirm("Are you sure?")){r.next=4;break}return r.abrupt("return");case 4:return a.loaderDialog=!0,e.length<=4&&(e="mirdc"+e),r.next=8,a.$store.dispatch("account/UPDATE_INFORMATION",{field:"password",data:e,userId:t});case 8:r.sent,a.loaderDialog=!1,a.$snotify.success("Password has been successfully updated"),r.next=18;break;case 13:r.prev=13,r.t0=r.catch(0),a.loaderDialog=!1,a.$snotify.error("An error occurred"),console.log(r.t0);case 18:case"end":return r.stop()}},r,a,[[0,13]])}))()},deleteUser:function(e){var t=this;return c()(s.a.mark(function a(){return s.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,confirm("Are you sure you want to delete?")){a.next=4;break}return a.abrupt("return");case 4:t.loaderDialog=!0,f.a.service("users").remove(e),t.loaderDialog=!1,t.$snotify.success("User has been successfully delete"),a.next=15;break;case 10:a.prev=10,a.t0=a.catch(0),t.loaderDialog=!1,t.$snotify.error("An error occurred"),console.log(a.t0);case 15:case"end":return a.stop()}},a,t,[[0,10]])}))()}},watch:{roles:function(e){try{e&&(this.roles=h()(JSON.parse(e),null,2))}catch(e){}}},components:{LoaderDialog:A},computed:{items:function(){return this.$store.state.employee.list}}},T={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl9:""}},[a("v-card",[a("v-card-title",[a("div",{staticClass:"headline"},[e._v("Employees")]),e._v(" "),a("v-spacer"),e._v(" "),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),e._v(" "),a("v-data-table",{attrs:{"disable-initial-sort":"",headers:e.headers,items:e.items,search:e.search,loading:e.loading,"rows-per-page-items":e.rowsPerPage},scopedSlots:e._u([{key:"items",fn:function(t){return[a("tr",{attrs:{slot:"activator"},slot:"activator"},[a("td",[e._v(e._s(t.item.emp_id))]),e._v(" "),a("td",[e._v(e._s(t.item.personal_information.first_name))]),e._v(" "),a("td",[e._v(e._s(t.item.personal_information.middle_name))]),e._v(" "),a("td",[e._v(e._s(t.item.personal_information.surname))]),e._v(" "),a("td",[e._v(e._s(t.item.extra_information.appointment))]),e._v(" "),a("td",[e._v(e._s(t.item.extra_information.division.text))]),e._v(" "),a("td",[a("v-menu",{attrs:{bottom:"",left:""}},[a("v-btn",{attrs:{slot:"activator",icon:""},slot:"activator"},[a("v-icon",[e._v("more_vert")])],1),e._v(" "),a("v-card",[a("v-card-title",[a("div",{staticClass:"title"},[e._v("Update information")])]),e._v(" "),a("v-list",[a("v-list-tile",{attrs:{ripple:""},on:{click:function(a){return a.preventDefault(),a.stopPropagation(),e.editDialog(t.item)}}},[a("v-list-tile-title",[e._v("Edit Profile")])],1),e._v(" "),a("v-list-tile",{attrs:{ripple:""},on:{click:function(a){return a.preventDefault(),a.stopPropagation(),e.openInfoDialog(t.item)}}},[a("v-list-tile-title",[e._v("Roles")])],1),e._v(" "),a("v-list-tile",{attrs:{ripple:""},on:{click:function(a){return e.resetPassword(t.item.emp_id,t.item._id)}}},[a("v-list-tile-title",[e._v("Reset Password")])],1),e._v(" "),a("v-list-tile",{attrs:{ripple:""},on:{click:function(a){return e.deleteUser(t.item._id)}}},[a("v-list-tile-title",[e._v("Delete User")])],1)],1)],1)],1)],1)])]}}])},[e._v(" "),a("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[e._v('\n\t\t\t\t\t\t\tYour search for "'+e._s(e.search)+'" found no results.\n\t\t\t\t\t\t')])],1)],1)],1)],1)],1),e._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"490"},model:{value:e.infoDialog,callback:function(t){e.infoDialog=t},expression:"infoDialog"}},[a("v-card",[a("v-card-title",{staticClass:"primary"},[a("div",{staticClass:"headline white--text"},[e._v(e._s(e.infoDialogTitle))])]),e._v(" "),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-textarea",{attrs:{rules:e.rolesRules,rows:"15"},model:{value:e.roles,callback:function(t){e.roles=t},expression:"roles"}})],1)],1),e._v(" "),a("v-card-actions",[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{color:"grey darken-1",flat:""},nativeOn:{click:function(t){e.infoDialog=!1}}},[e._v("Close")]),e._v(" "),a("v-btn",{attrs:{color:"primary"},on:{click:e.saveRoles}},[e._v("Save")])],1)],1)],1),e._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"490"},model:{value:e.editLayout,callback:function(t){e.editLayout=t},expression:"editLayout"}},[a("v-card",[a("v-card-title",{staticClass:"primary"},[a("div",{staticClass:"headline white--text"},[e._v("Edit Profile")])]),e._v(" "),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[e.selectedItem.personal_information?a("v-text-field",{attrs:{label:"First Name"},model:{value:e.selectedItem.personal_information.first_name,callback:function(t){e.$set(e.selectedItem.personal_information,"first_name",t)},expression:"selectedItem.personal_information.first_name"}}):e._e(),e._v(" "),e.selectedItem.personal_information?a("v-text-field",{attrs:{label:"Middle Name"},model:{value:e.selectedItem.personal_information.middle_name,callback:function(t){e.$set(e.selectedItem.personal_information,"middle_name",t)},expression:"selectedItem.personal_information.middle_name"}}):e._e(),e._v(" "),e.selectedItem.personal_information?a("v-text-field",{attrs:{label:"Last Name"},model:{value:e.selectedItem.personal_information.surname,callback:function(t){e.$set(e.selectedItem.personal_information,"surname",t)},expression:"selectedItem.personal_information.surname"}}):e._e(),e._v(" "),a("v-text-field",{attrs:{label:"Employee ID"},model:{value:e.selectedItem.emp_id,callback:function(t){e.$set(e.selectedItem,"emp_id",t)},expression:"selectedItem.emp_id"}}),e._v(" "),e.selectedItem.personal_information?a("v-text-field",{attrs:{label:"Email Address"},model:{value:e.selectedItem.personal_information.email,callback:function(t){e.$set(e.selectedItem.personal_information,"email",t)},expression:"selectedItem.personal_information.email"}}):e._e(),e._v(" "),e.selectedItem.personal_information?a("v-select",{attrs:{items:e.divisions,label:"Select","item-text":"text","item-value":"value","return-object":""},on:{input:e.fetchDivisions},model:{value:e.selectedItem.extra_information.division,callback:function(t){e.$set(e.selectedItem.extra_information,"division",t)},expression:"selectedItem.extra_information.division"}}):e._e(),e._v(" "),e.selectedItem.personal_information?a("v-select",{attrs:{items:e.sections,label:"Select","item-text":"text","item-value":"value","return-object":""},model:{value:e.selectedItem.extra_information.section,callback:function(t){e.$set(e.selectedItem.extra_information,"section",t)},expression:"selectedItem.extra_information.section"}}):e._e(),e._v(" "),e.selectedItem.personal_information?a("v-text-field",{attrs:{label:"Position"},model:{value:e.selectedItem.extra_information.position,callback:function(t){e.$set(e.selectedItem.extra_information,"position",t)},expression:"selectedItem.extra_information.position"}}):e._e()],1)],1),e._v(" "),a("v-card-actions",[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{color:"grey darken-1",flat:""},nativeOn:{click:function(t){e.editLayout=!1}}},[e._v("Close")]),e._v(" "),a("v-btn",{attrs:{color:"primary"},on:{click:e.updateProfile}},[e._v("Save")])],1)],1)],1),e._v(" "),a("LoaderDialog",{attrs:{loaderDialog:e.loaderDialog}}),e._v(" "),a("vue-snotify")],1)},staticRenderFns:[]},C=a("VU/8")(P,T,!1,null,null,null).exports,O=a("woOf"),$=a.n(O),R={props:{data:Object,title:String,flat:Boolean},data:function(){return{valid:!0,rules:[function(e){return!!e||"This field is required"}],emailRules:[function(e){return!!e||"This field is required"},function(e){return/.+@.+/.test(e)||"E-mail must be valid"}]}},methods:{validateFields:function(){this.$emit("personalInfoValid",this.$refs.form.validate())},resetValidation:function(){this.$refs.form.resetValidation()}}},N={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{attrs:{flat:e.flat}},[e.title?a("v-card-title",[a("div",{staticClass:"headline"},[e._v(e._s(e.title))]),e._v(" "),a("v-spacer")],1):e._e(),e._v(" "),e.title?a("v-divider"):e._e(),e._v(" "),a("v-card-text",[a("v-container",{attrs:{fluid:""}},[a("v-form",{ref:"form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs4:""}},[a("v-subheader",[e._v("First name")])],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{required:"",rules:e.rules},model:{value:e.data.first_name,callback:function(t){e.$set(e.data,"first_name",t)},expression:"data.first_name"}})],1)],1),e._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs4:""}},[a("v-subheader",[e._v("Middle name")])],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{required:"",rules:e.rules},model:{value:e.data.middle_name,callback:function(t){e.$set(e.data,"middle_name",t)},expression:"data.middle_name"}})],1)],1),e._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs4:""}},[a("v-subheader",[e._v("Last name")])],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{required:"",rules:e.rules},model:{value:e.data.surname,callback:function(t){e.$set(e.data,"surname",t)},expression:"data.surname"}})],1)],1),e._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs4:""}},[a("v-subheader",[e._v("Extension")])],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{model:{value:e.data.name_extension,callback:function(t){e.$set(e.data,"name_extension",t)},expression:"data.name_extension"}})],1)],1),e._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs4:""}},[a("v-subheader",[e._v("Email address")])],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{required:"",rules:e.emailRules},model:{value:e.data.email,callback:function(t){e.$set(e.data,"email",t)},expression:"data.email"}})],1)],1),e._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs4:""}},[a("v-subheader",[e._v("Birthday")])],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{directives:[{name:"mask",rawName:"v-mask",value:"####-##-##",expression:"'####-##-##'"}],attrs:{required:"",rules:e.rules},model:{value:e.data.birthday,callback:function(t){e.$set(e.data,"birthday",t)},expression:"data.birthday"}})],1)],1)],1)],1)],1)],1)},staticRenderFns:[]},L=a("VU/8")(R,N,!1,null,null,null).exports,U=a("NYxO"),M={data:function(){return{loading:!1,personal_information:{},loaderDialog:!1}},created:function(){this.personal_information=$()({},this.employee_data.personal_information)},methods:{save:function(){var e=this;this.loaderDialog=!0,this.$store.dispatch("account/UPDATE_INFORMATION",{field:"personal_information",data:this.personal_information}).then(function(t){e.loaderDialog=!1,e.$snotify.success("Personal information updated")}).catch(function(t){console.log(t),e.loaderDialog=!1,e.$snotify.error("An error occurred")})}},computed:i()({},Object(U.b)({employee_data:"account/GET_EMPLOYEE_DATA"})),components:{PersonalInformation:L,LoaderDialog:A}},j={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl9:""}},[a("v-card",[a("PersonalInformation",{ref:"personalInfo",attrs:{data:e.personal_information,flat:!0,title:"Personal Information"},on:{personalInfoValid:function(t){return t?e.save():null}}}),e._v(" "),a("v-card-actions",[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.$refs.personalInfo.validateFields()}}},[e._v("Save")])],1)],1)],1)],1)],1),e._v(" "),a("LoaderDialog",{attrs:{loaderDialog:e.loaderDialog}}),e._v(" "),a("vue-snotify")],1)},staticRenderFns:[]};var F=a("VU/8")(M,j,!1,function(e){a("cL48")},"data-v-29f30a94",null).exports,q={props:{data:Object,title:String,flat:Boolean,idNumberField:Boolean},created:function(){this.fetchDivisions()},data:function(){return{divisions:[],sections:[],valid:!0,rules:[function(e){return!!e||"This field is required"}]}},methods:{fetchDivisions:function(){var e=this;return c()(s.a.mark(function t(){var a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("division/GET_DIVISIONS");case 2:a=t.sent,e.divisions=a.map(function(e){return{text:e.name,sections:e.sections.map(function(e){return{text:e.name,value:e.name}}),value:e.name}}),e.data.section&&(e.sections=e.divisions.filter(function(t){return-1!==t.sections.findIndex(function(t){return t.text===e.data.section.text})}).map(function(e){return e.sections})[0]);case 5:case"end":return t.stop()}},t,e)}))()},validateFields:function(){console.log("res",this.$refs.form.validate()),this.$emit("extraInfoValid",this.$refs.form.validate())},resetValidation:function(){this.$refs.form.resetValidation()}},watch:{"data.division":function(e){var t=this.divisions.findIndex(function(t){return t.text===e.text});-1!==t&&(this.sections=this.divisions[t].sections)}}},H={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{attrs:{flat:e.flat}},[e.title?a("v-card-title",[a("div",{staticClass:"headline"},[e._v(e._s(e.title))]),e._v(" "),a("v-spacer")],1):e._e(),e._v(" "),e.title?a("v-divider"):e._e(),e._v(" "),a("v-card-text",[a("v-container",{attrs:{fluid:""}},[a("v-form",{ref:"form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs4:""}},[a("v-subheader",[e._v("Division")])],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-select",{attrs:{required:"",rules:e.rules,items:e.divisions,label:"Select","item-text":"text","item-value":"value","return-object":""},model:{value:e.data.division,callback:function(t){e.$set(e.data,"division",t)},expression:"data.division"}})],1)],1),e._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs4:""}},[a("v-subheader",[e._v("Section")])],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-select",{attrs:{required:"",rules:e.rules,items:e.sections,label:"Select","item-text":"text","item-value":"value","return-object":""},model:{value:e.data.section,callback:function(t){e.$set(e.data,"section",t)},expression:"data.section"}})],1)],1),e._v(" "),e.idNumberField?a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs4:""}},[a("v-subheader",[e._v("ID Number")])],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{required:"",rules:e.rules},model:{value:e.data.emp_id,callback:function(t){e.$set(e.data,"emp_id",t)},expression:"data.emp_id"}})],1)],1):e._e(),e._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs4:""}},[a("v-subheader",[e._v("Position")])],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{required:"",rules:e.rules},model:{value:e.data.position,callback:function(t){e.$set(e.data,"position",t)},expression:"data.position"}})],1)],1)],1)],1)],1)],1)},staticRenderFns:[]},V=a("VU/8")(q,H,!1,null,null,null).exports,B={data:function(){return{loading:!1,extra_information:{},loaderDialog:!1,divisions:[],sections:[]}},created:function(){this.extra_information=$()({},this.employee_data.extra_information),console.log(this.extra_information)},methods:{test:function(e){console.log(e)},save:function(){var e=this,t=JSON.parse(h()(this.extra_information));delete t.division.sections,this.loaderDialog=!0,this.$store.dispatch("account/UPDATE_INFORMATION",{field:"extra_information",data:t}).then(function(t){console.log(t),e.loaderDialog=!1,e.$snotify.success("Personal information updated")}).catch(function(t){console.log(t),e.loaderDialog=!1,e.$snotify.error("An error occurred")})}},computed:i()({},Object(U.b)({employee_data:"account/GET_EMPLOYEE_DATA"})),components:{ExtraInformation:V,LoaderDialog:A}},G={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl9:""}},[a("v-card",[a("ExtraInformation",{ref:"extraInfo",attrs:{data:e.extra_information,flat:!0,idNumberField:!1,title:"Extra Information"},on:{extraInfoValid:e.test}}),e._v(" "),a("v-card-actions",[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.save()}}},[e._v("Save")])],1)],1)],1)],1)],1),e._v(" "),a("LoaderDialog",{attrs:{loaderDialog:e.loaderDialog}}),e._v(" "),a("vue-snotify")],1)},staticRenderFns:[]};var Y=a("VU/8")(B,G,!1,function(e){a("Poe2")},"data-v-582d01e4",null).exports,W=a("BcvJ"),J=(f.a.service("divisions"),{data:function(){return{valid:!0,loading:!1,loaderDialog:!1,password:{new:null,confirm:null},passwordRules:[function(e){return!!e||"This field is required"},function(e){var t=new W;return t.is().min(10).is().max(100).has().uppercase().has().lowercase().has().digits(2).has().not().spaces().has().symbols().is().not().oneOf(["Passw0rd","Password123","P@ssw0rd123"]),t.validate(e)||"Password must contain at least 10 characters, one uppercase letter, 1 numbers, and one special character"}],pwordPrependIcon:!0,confirmPrependIcon:!0}},mounted:function(){window.addEventListener("message",this.handleMessage)},methods:{save:function(){var e=this;return c()(s.a.mark(function t(){var a,r,n;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((a=new W).is().min(10).is().max(100).has().uppercase().has().lowercase().has().digits(1).has().not().spaces().has().symbols().is().not().oneOf(["Passw0rd","Password123","P@ssw0rd123"]),r=a.validate(e.password.new&&e.password.confirm),e.password.new===e.password.confirm){t.next=6;break}return e.$snotify.error("Passwords did not match"),t.abrupt("return");case 6:if(e.$refs.form.validate()){t.next=8;break}return t.abrupt("return");case 8:if(e.loaderDialog=!0,t.prev=9,r){t.next=16;break}return e.loaderDialog=!1,e.$snotify.error("Password does not meet the complexity requirements."),t.abrupt("return");case 16:return t.next=18,e.$store.dispatch("account/UPDATE_INFORMATION",{field:"password",data:e.password.new});case 18:return n=t.sent,t.next=21,f.a.service("users").patch(n._id,{requirePasswordChange:!1});case 21:e.loaderDialog=!1,e.$snotify.success("Password has been successfully updated");case 23:t.next=30;break;case 25:t.prev=25,t.t0=t.catch(9),console.log(t.t0),e.loaderDialog=!1,e.$snotify.error("An error occurred");case 30:case"end":return t.stop()}},t,e,[[9,25]])}))()},handleMessage:function(e){if("feathers-jwt"===e.data.type)e.data.value},beforeDestroy:function(){window.removeEventListener("message",this.handleMessage)}}}),z={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl9:""}},[a("v-card",[a("v-card-title",[a("div",{staticClass:"headline white--text"},[e._v("Update Password")]),e._v(" "),a("v-spacer")],1),e._v(" "),a("v-divider"),e._v(" "),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs4:""}},[a("v-subheader",[e._v("New Password")])],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{"append-icon":e.pwordPrependIcon?"visibility":"visibility_off",type:e.pwordPrependIcon?"password":"text",required:"",rules:e.passwordRules},on:{"click:append":function(t){e.pwordPrependIcon=!e.pwordPrependIcon}},model:{value:e.password.new,callback:function(t){e.$set(e.password,"new",t)},expression:"password.new"}})],1)],1),e._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs4:""}},[a("v-subheader",[e._v("Confirm Password")])],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{"append-icon":e.confirmPrependIcon?"visibility":"visibility_off",type:e.confirmPrependIcon?"password":"text",required:"",rules:e.passwordRules},on:{"click:append":function(t){e.confirmPrependIcon=!e.confirmPrependIcon}},model:{value:e.password.confirm,callback:function(t){e.$set(e.password,"confirm",t)},expression:"password.confirm"}})],1)],1)],1)],1)],1),e._v(" "),a("v-card-actions",[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{color:"primary"},on:{click:e.save}},[e._v("Save")])],1)],1)],1)],1)],1),e._v(" "),a("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:e.loaderDialog,callback:function(t){e.loaderDialog=t},expression:"loaderDialog"}},[a("v-card",{attrs:{color:"primary",dark:""}},[a("v-card-text",[e._v("\n\t\t\t\tPlease stand by\n\t\t\t\t"),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1),e._v(" "),a("vue-snotify")],1)},staticRenderFns:[]};var K=a("VU/8")(J,z,!1,function(e){a("kxEs")},"data-v-3135618f",null).exports;var Q={data:function(){return{valid:!0,loading:!1,loaderDialog:!1,roles:null,rolesRules:[function(e){return e&&function(e){try{var t=JSON.parse(e);return y()(t).length>0}catch(e){return!1}}(e)||"Invalid string. Data can't be parsed."}]}},created:function(){this.fetchInformation()},methods:{fetchInformation:function(){var e=this;this.$store.dispatch("account/GET_INFORMATION").then(function(t){t.roles&&(e.roles=h()(t.roles))}).catch(function(e){console.log(e)})},save:function(){var e=this;this.$refs.form.validate()&&(this.loaderDialog=!0,this.$store.dispatch("account/UPDATE_INFORMATION",{field:"roles",data:JSON.parse(this.roles)}).then(function(t){e.loaderDialog=!1,e.$snotify.success("Roles has been successfully updated")}).catch(function(t){console.log(t),e.loaderDialog=!1,e.$snotify.error("An error occurred")}))}},watch:{roles:function(e){try{this.roles=h()(JSON.parse(e),null,2)}catch(e){}}}},X={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl9:""}},[a("v-card",[a("v-card-title",{staticClass:"info"},[a("div",{staticClass:"headline white--text"},[e._v("Roles")]),e._v(" "),a("v-spacer")],1),e._v(" "),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs4:""}},[a("v-subheader",[e._v("Metadata")])],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-textarea",{attrs:{rules:e.rolesRules,rows:"15"},model:{value:e.roles,callback:function(t){e.roles=t},expression:"roles"}})],1)],1)],1)],1)],1),e._v(" "),a("v-card-actions",[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{color:"primary"},on:{click:e.save}},[e._v("Save")])],1)],1)],1)],1)],1),e._v(" "),a("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:e.loaderDialog,callback:function(t){e.loaderDialog=t},expression:"loaderDialog"}},[a("v-card",{attrs:{color:"primary",dark:""}},[a("v-card-text",[e._v("\n\t          Please stand by\n\t          "),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1),e._v(" "),a("vue-snotify")],1)},staticRenderFns:[]},Z=a("VU/8")(Q,X,!1,null,null,null).exports,ee=a("/xHe"),te={data:function(){return{step:1,personal_information:{},extra_information:{},loaderDialog:!1}},components:{PersonalInformation:L,ExtraInformation:V,LoaderDialog:A},methods:{save:function(){var e=this;return c()(s.a.mark(function t(){var a,r,n,i;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=ee.generate({length:10,numbers:!0,excludeSimilarCharacters:!0,symbols:!0}),e.loaderDialog=!0,t.prev=2,delete(r=JSON.parse(h()(e.extra_information))).division.sections,t.prev=5,t.next=8,e.$store.dispatch("account/CHECK_ID_NUMBER",r.emp_id);case 8:if(n=t.sent,console.log("Search result",n),!n.exists){t.next=14;break}return e.$snotify.error("ID Number already exists!"),e.loaderDialog=!1,t.abrupt("return");case 14:t.next=22;break;case 16:return t.prev=16,t.t0=t.catch(5),console.log(t.t0),e.$snotify.error("An error occurred"),e.loaderDialog=!1,t.abrupt("return");case 22:return i={email:r.emp_id+"@mail.com",password:a,emp_id:r.emp_id,personal_information:e.personal_information,extra_information:r},t.next=25,e.$store.dispatch("account/SAVE_EMPLOYEE",i);case 25:return e.personal_information={},e.extra_information={},e.$refs.personalInfo.resetValidation(),e.$refs.extraInfo.resetValidation(),e.step=1,t.next=32,e.sendPasswordEmail(i);case 32:e.$snotify.success("New user has been successfully added!"),t.next=39;break;case 35:t.prev=35,t.t1=t.catch(2),console.log(t.t1),e.$snotify.error("An error occurred");case 39:e.loaderDialog=!1;case 40:case"end":return t.stop()}},t,e,[[2,35],[5,16]])}))()},sendPasswordEmail:function(e){var t=this;return c()(s.a.mark(function a(){var r,n,i;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("employee",e),r="http://10.10.120.43:3232/sendMail",n={to:e.personal_information.email,from:"PMD-MIS",system:"SSO",subject:"Your SSO Password",message:'<!DOCTYPE html>\n            <html lang="en">\n            <head>\n              <meta charset="UTF-8">\n              <meta http-equiv="X-UA-Compatible" content="IE=edge">\n              <meta name="viewport" content="width=device-width, initial-scale=1.0">\n              <style>\n                body {\n                  font-family: \'Arial\', sans-serif;\n                  color: #333;\n                }\n                .container {\n                  max-width: 600px;\n                  margin: 20px auto;\n                  padding: 20px;\n                  border: 1px solid #ddd;\n                  border-radius: 10px;\n                  background-color: #f9f9f9;\n                }\n                .button {\n                  display: inline-block;\n                  padding: 10px 20px;\n                  background-color: #1976d2;\n                  color: #000000;\n                  text-decoration: none;\n                  border-radius: 5px;\n                }\n              </style>\n            </head>\n            <body>\n              <div class="container">\n                <h2>Hello '+e.personal_information.first_name+" "+e.personal_information.surname+",</h2>\n                <p>Your SSO password is: <strong>"+e.password+'</strong></p>\n                <p>Please keep this password confidential and do not share it with anyone.</p>\n                <p>Click the button below to log in:</p>\n                <a class="button" href="http://10.10.120.32:3536">Log In</a>\n                <p>Thank you,<br>PMD-MIS</p>\n              </div>\n            </body>\n            </html>'},t.prev=3,t.next=6,fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:h()(n)});case 6:if((i=t.sent).ok){t.next=9;break}throw new Error("Failed to send password email. Status: "+i.status);case 9:console.log("Password email sent successfully"),t.next=16;break;case 12:throw t.prev=12,t.t0=t.catch(3),console.error("Error sending password email:",t.t0),t.t0;case 16:case"end":return t.stop()}},a,t,[[3,12]])}))()}}},ae={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl9:""}},[a("v-stepper",{model:{value:e.step,callback:function(t){e.step=t},expression:"step"}},[a("v-stepper-header",[a("v-stepper-step",{attrs:{complete:e.step>1,step:"1"}},[e._v("Personal Information")]),e._v(" "),a("v-divider"),e._v(" "),a("v-stepper-step",{attrs:{complete:e.step>2,step:"2"}},[e._v("Extra Information")])],1),e._v(" "),a("v-stepper-items",[a("v-stepper-content",{attrs:{step:"1"}},[a("v-card",[a("PersonalInformation",{ref:"personalInfo",attrs:{data:e.personal_information,flat:!0},on:{personalInfoValid:function(t){return e.step=t?2:1}}}),e._v(" "),a("v-card-actions",[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.$refs.personalInfo.validateFields()}}},[e._v("Next")])],1)],1)],1),e._v(" "),a("v-stepper-content",{attrs:{step:"2"}},[a("v-card",[a("ExtraInformation",{ref:"extraInfo",attrs:{data:e.extra_information,flat:!0,idNumberField:!0},on:{extraInfoValid:function(t){return t?e.save():null}}}),e._v(" "),a("v-card-actions",[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.step=1}}},[e._v("Back")]),e._v(" "),a("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.$refs.extraInfo.validateFields()}}},[e._v("Save")])],1)],1)],1)],1)],1)],1)],1)],1),e._v(" "),a("LoaderDialog",{attrs:{loaderDialog:e.loaderDialog}}),e._v(" "),a("vue-snotify")],1)},staticRenderFns:[]},re=a("VU/8")(te,ae,!1,null,null,null).exports,se={data:function(){return{loading:!1,loaderDialog:!1}},created:function(){},methods:{save:function(){var e=this;return c()(s.a.mark(function t(){var a,r,n,i,o,c,d,l;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((a=e.$refs.file.files).length){t.next=4;break}return e.$snotify.error("No file chosen"),t.abrupt("return");case 4:return e.loaderDialog=!0,t.prev=5,t.next=8,w(a[0]);case 8:return r=t.sent,t.next=11,k(r);case 11:return n=t.sent,i=E(n.width,n.height),o=i.width,c=i.height,t.next=15,I(r,o,c);case 15:return d=t.sent,(l=JSON.parse(h()(e.account.extra_information))).signature=d,t.next=20,e.$store.dispatch("account/UPDATE_INFORMATION",{field:"extra_information",data:l});case 20:e.$snotify.success("E-Signature has been successfully uploaded"),t.next=26;break;case 23:t.prev=23,t.t0=t.catch(5),console.log(t.t0);case 26:e.loaderDialog=!1;case 27:case"end":return t.stop()}},t,e,[[5,23]])}))()}},computed:{account:function(){return this.$store.getters["account/GET_EMPLOYEE_DATA"]}},components:{LoaderDialog:A}},ne={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl9:""}},[a("v-card",[a("v-card-title",{staticClass:"info"},[a("div",{staticClass:"headline white--text"},[e._v("Signature")]),e._v(" "),a("v-spacer")],1),e._v(" "),a("v-card-text",[e.account.extra_information.signature?a("v-avatar",{attrs:{size:"200",tile:""}},[a("v-img",{attrs:{src:e.account.extra_information.signature}},[a("v-layout",{attrs:{slot:"placeholder","fill-height":"","align-center":"","justify-center":"","ma-0":""},slot:"placeholder"},[a("v-progress-circular",{attrs:{indeterminate:"",color:"grey lighten-5"}})],1)],1)],1):e._e(),e._v(" "),a("div",{staticClass:"my-3"}),e._v(" "),a("input",{ref:"file",attrs:{type:"file"}})],1),e._v(" "),a("v-card-actions",[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{color:"primary"},on:{click:e.save}},[e._v("Upload")])],1)],1)],1)],1)],1),e._v(" "),a("LoaderDialog",{attrs:{loaderDialog:e.loaderDialog}}),e._v(" "),a("vue-snotify")],1)},staticRenderFns:[]};var ie=a("VU/8")(se,ne,!1,function(e){a("DmgS")},"data-v-88293032",null).exports,oe=a("2aIq"),ce=a.n(oe),de={namespaced:!0,state:{employee_data:{},isAuthenticated:!1,requirePasswordChange:!1},getters:{GET_EMPLOYEE_DATA:function(e){return e.employee_data}},mutations:{SET_EMPLOYEE_DATA:function(e,t){e.employee_data=t},SET_AUTHENTICATED:function(e,t){e.isAuthenticated=t},SET_REQUIRE_PASSWORD_CHANGE:function(e,t){e.requirePasswordChange=t}},actions:{LOGIN:function(e,t){var a=this,r=e.commit;return c()(s.a.mark(function e(){var n,i,o,c;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.idNumber+"@mail.com",e.next=4,f.a.authenticate({strategy:"local",email:n,password:t.password});case 4:return i=e.sent,e.next=7,f.a.passport.verifyJWT(i.accessToken);case 7:return o=e.sent,e.next=10,f.a.service("users").get(o.userId);case 10:return c=e.sent,console.log(c),r("SET_AUTHENTICATED",!0),r("SET_EMPLOYEE_DATA",c),e.abrupt("return",{userId:o.userId,userData:c});case 17:throw e.prev=17,e.t0=e.catch(0),e.t0;case 20:case"end":return e.stop()}},e,a,[[0,17]])}))()},GET_INFORMATION:function(e){var t=this;return ce()(e),c()(s.a.mark(function e(){var a,r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.authenticate();case 3:return a=e.sent.accessToken,e.next=6,f.a.passport.verifyJWT(a);case 6:return r=e.sent,e.next=9,f.a.service("users").get(r.userId);case 9:return e.abrupt("return",e.sent);case 12:throw e.prev=12,e.t0=e.catch(0),e.t0;case 15:case"end":return e.stop()}},e,t,[[0,12]])}))()},UPDATE_INFORMATION:function(e,t){var a=this,r=e.commit,n=t.field,i=t.data,o=t.userId;return c()(s.a.mark(function e(){var t,c,d;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(t={})[n]=i,e.next=5,f.a.authenticate();case 5:return c=e.sent.accessToken,e.next=8,f.a.passport.verifyJWT(c);case 8:return d=e.sent,r("SET_EMPLOYEE_DATA",t),o||(o=d.userId),e.next=13,f.a.service("users").patch(o,t);case 13:return e.abrupt("return",e.sent);case 16:throw e.prev=16,e.t0=e.catch(0),e.t0;case 19:case"end":return e.stop()}},e,a,[[0,16]])}))()},SAVE_EMPLOYEE:function(e,t){var a=this,r=e.commit;return c()(s.a.mark(function e(){var n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.service("users").create(t);case 2:return n=e.sent,r("employee/ADD_TO_LIST",n,{root:!0}),e.abrupt("return",n);case 5:case"end":return e.stop()}},e,a)}))()},CHECK_AUTHENTICATION:function(e){var t=this,a=e.commit;return c()(s.a.mark(function e(){var r,n,i,o,c,d;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(r=localStorage.getItem("sso-jwt"))){e.next=11;break}return e.next=5,f.a.passport.verifyJWT(r);case 5:return n=e.sent,e.next=8,f.a.service("users").get(n.userId);case 8:return i=e.sent,console.log("User",i),e.abrupt("return");case 11:return e.next=13,f.a.authenticate();case 13:return o=e.sent.accessToken,e.next=16,f.a.passport.verifyJWT(o);case 16:return c=e.sent.userId,e.next=19,f.a.service("users").get(c);case 19:return d=e.sent,a("SET_AUTHENTICATED",!0),a("SET_EMPLOYEE_DATA",d),e.abrupt("return",d);case 25:throw e.prev=25,e.t0=e.catch(0),e.t0;case 28:case"end":return e.stop()}},e,t,[[0,25]])}))()},CHECK_ID_NUMBER:function(e,t){var a=this;return ce()(e),c()(s.a.mark(function e(){var r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.service("users").find({query:{emp_id:t}});case 3:return r=e.sent,e.abrupt("return",{exists:r.data.length>0,data:r.data});case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}},e,a,[[0,7]])}))()}}},le={namespaced:!0,state:{},getters:{},mutations:{},actions:{GET_DIVISIONS:function(e){return ce()(e),f.a.service("divisions").find({query:{$paginate:{value:!1}}})}}},fe={namespaced:!0,state:{list:[],isLoaded:!1},mutations:{SET_LIST:function(e,t){e.list=t},SET_IS_LOADED:function(e,t){e.isLoaded=t},ADD_TO_LIST:function(e,t){e.list.push(t)}},actions:{GET_EMPLOYEES:function(e){var t=this,a=e.state,r=e.commit;return c()(s.a.mark(function e(){var n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.isLoaded){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,f.a.service("users").find({query:{$paginate:{value:!1}}});case 5:n=e.sent,r("SET_LIST",n),r("SET_IS_LOADED",!0),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),console.log("Error loading employees"),console.log(e.t0);case 14:case"end":return e.stop()}},e,t,[[2,10]])}))()}}};d.default.use(U.a);var ue=new U.a.Store({modules:{account:de,division:le,employee:fe}}),ve=this;d.default.use(l.a);var pe,me=new l.a({routes:[{path:"/",name:"Login",component:m},{path:"/employees",name:"Employees",component:C,meta:{layout:"employee",requiresPasswordCheck:!0}},{path:"/profile",name:"Profile",component:F,meta:{layout:"employee",requiresPasswordCheck:!0}},{path:"/extra-information",name:"ExtraInformation",component:Y,meta:{layout:"employee",requiresPasswordCheck:!0}},{path:"/update-password",name:"UpdatePassword",component:K,meta:{layout:"employee"}},{path:"/roles",name:"Roles",component:Z,meta:{layout:"employee",requiresPasswordCheck:!0}},{path:"/new-employee",name:"NewEmployee",component:re,meta:{layout:"employee",requiresPasswordCheck:!0}},{path:"/signature",name:"Signature",component:ie,meta:{layout:"employee",requiresPasswordCheck:!0}}]});function be(){try{return window.self!==window.top}catch(e){return!0}}me.beforeEach((pe=c()(s.a.mark(function e(t,a,r){var n,i,o,c;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=ue.state.account,i=n.isAuthenticated,o=n.employee_data,!be()){e.next=4;break}return i?window.parent.postMessage({action:"LOGIN",success:!0,user:o,token:localStorage.getItem("feathers-jwt")},"*"):window.parent.postMessage({action:"LOGIN",success:!1},"*"),e.abrupt("return");case 4:if(!i){e.next=26;break}if(c=t.matched.some(function(e){return e.meta.requiresPasswordCheck}),!o.requirePasswordChange||!c){e.next=12;break}if(!window.confirm("Oops! Looks like your password does not meet complexity requirements. Click OK to continue.")){e.next=11;break}return r({path:"/update-password"}),e.abrupt("return");case 11:return e.abrupt("return");case 12:if("/"!==t.path){e.next=16;break}r({path:"/profile"}),e.next=24;break;case 16:if("/logout"!==t.path||!t.query.continue){e.next=23;break}return e.next=19,f.a.logout();case 19:ue.commit("account/SET_AUTHENTICATED",!1),location.replace(t.query.continue),e.next=24;break;case 23:r();case 24:e.next=27;break;case 26:"/"!==t.path?r({path:"/"}):r();case 27:case"end":return e.stop()}},e,ve)})),function(e,t,a){return pe.apply(this,arguments)}));var he=me,_e=a("3EgV"),xe=a.n(_e),ge=(a("7zck"),a("c4So")),ye=a("cTzj"),we=a.n(ye),ke=a("OjAt"),Ee=a.n(ke),Ie=a("HgYs"),Se=(a("2d5O"),a("1I9z")),De=function(){var e=c()(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ae){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,ue.dispatch("account/CHECK_AUTHENTICATION");case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log("Not authenticated");case 10:Ae=new d.default(i()({el:"#app",store:ue,router:he},ge.layout));case 11:case"end":return e.stop()}},e,this,[[2,7]])}));return function(){return e.apply(this,arguments)}}();d.default.use(xe.a),d.default.use(ge.VueExtendLayout),d.default.use(we.a,{silent:!0}),d.default.use(Ee.a),d.default.use(Ie.b,{toast:{position:Ie.a.rightTop,timeout:3e3}}),d.default.directive("mask",Se.a),d.default.config.productionTip=!1;var Ae=void 0;De(),f.b.on("LOG_OUT",function(e){window.parent.postMessage({action:"LOG_OUT",userId:e},"*")})},Poe2:function(e,t){},QDfD:function(e,t){e.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},Yekr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("Dd8w"),s=a.n(r),n=a("+vOg"),i=a("NYxO"),o="SSO_THEME";var c={name:"employee",data:function(){return{dialog:!1,drawer:null,items:[{icon:"account_circle",text:"Profile",url:"Profile"},{icon:"assignment",text:"Extra Information",url:"ExtraInformation"},{icon:"lock",text:"Update Password",url:"UpdatePassword"}],isDark:"dark"===(e=localStorage.getItem(o),void 0!==e?e:"light")};var e},computed:s()({},Object(i.b)({employee_data:"account/GET_EMPLOYEE_DATA"})),created:function(){this.employee_data.roles&&this.employee_data.roles.sso&&this.employee_data.roles.sso.includes("admin")&&(this.items.unshift({divider:!0}),this.items.unshift({icon:"person_add",text:"New Employee",url:"NewEmployee"}),this.items.unshift({icon:"people",text:"Employees",url:"Employees"}))},methods:{logout:function(){var e=this;n.a.logout().then(function(){e.$store.commit("account/SET_AUTHENTICATED",!1),e.$store.commit("account/SET_EMPLOYEE_DATA",{}),e.$store.commit("account/SET_REQUIRE_PASSWORD_CHANGE",!1),e.$router.push({name:"Login"})})}},props:{source:String},watch:{isDark:function(e){localStorage.setItem(o,e?"dark":"light")}}},d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{attrs:{dark:e.isDark}},[a("v-navigation-drawer",{attrs:{fixed:"",clipped:e.$vuetify.breakpoint.mdAndUp,app:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[a("v-list",{attrs:{dense:""}},[e._l(e.items,function(t,r){return[t.heading?a("v-layout",{key:t.heading,attrs:{row:"","align-center":""}},[a("v-flex",{attrs:{xs6:""}},[t.heading?a("v-subheader",[e._v(e._s(t.heading))]):e._e()],1),e._v(" "),a("v-flex",{staticClass:"text-xs-center",attrs:{xs6:""}},[a("a",{staticClass:"body-2 black--text",attrs:{href:"#!"}},[e._v("EDIT")])])],1):t.divider?a("v-divider",{key:r,staticClass:"my-3",attrs:{dark:""}}):t.children?a("v-list-group",{key:t.text,attrs:{"prepend-icon":t.model?t.icon:t["icon-alt"],"append-icon":""},model:{value:t.model,callback:function(a){e.$set(t,"model",a)},expression:"item.model"}},[a("v-list-tile",{attrs:{slot:"activator"},slot:"activator"},[a("v-list-tile-content",[a("v-list-tile-title",[e._v(e._s(t.text))])],1)],1),e._v(" "),e._l(t.children,function(t,r){return a("v-list-tile",{key:r},[t.icon?a("v-list-tile-action",[a("v-icon",[e._v(e._s(t.icon))])],1):e._e(),e._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[e._v(e._s(t.text))])],1)],1)})],2):a("v-list-tile",{key:t.text,attrs:{to:{name:t.url},ripple:""}},[a("v-list-tile-action",[a("v-icon",[e._v(e._s(t.icon))])],1),e._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[e._v(e._s(t.text))])],1)],1)]})],2)],1),e._v(" "),a("v-toolbar",{attrs:{app:"","clipped-left":e.$vuetify.breakpoint.mdAndUp,fixed:""}},[a("v-toolbar-title",{staticClass:"ml-0 pl-3",staticStyle:{width:"300px"}},[a("v-toolbar-side-icon",{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),e._v(" "),a("span",{staticClass:"hidden-sm-and-down"},[e._v("SSO Management")])],1),e._v(" "),a("v-spacer"),e._v(" "),a("v-btn",{attrs:{icon:"",title:"Switch theme"},on:{click:function(t){e.isDark=!e.isDark}}},[a("v-icon",[e._v(e._s(e.isDark?"nights_stay":"wb_sunny"))])],1),e._v(" "),a("v-btn",{attrs:{icon:"",title:"Log out"},on:{click:e.logout}},[a("v-icon",[e._v("exit_to_app")])],1)],1),e._v(" "),a("v-content",[a("router-view")],1)],1)},staticRenderFns:[]},l=a("VU/8")(c,d,!1,null,null,null);t.default=l.exports},cL48:function(e,t){},ejIc:function(e,t){e.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},kDKJ:function(e,t,a){var r={"./admin.vue":"7Ts1","./default.vue":"lfHO","./employee.vue":"Yekr"};function s(e){return a(n(e))}function n(e){var t=r[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}s.keys=function(){return Object.keys(r)},s.resolve=n,e.exports=s,s.id="kDKJ"},kxEs:function(e,t){},lfHO:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={render:function(){var e=this.$createElement,t=this._self._c||e;return t("v-app",{attrs:{id:"inspire"}},[t("v-content",[t("router-view")],1)],1)},staticRenderFns:[]},s=a("VU/8")({name:"default"},r,!1,null,null,null);t.default=s.exports},mUj8:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.fe837b0226f425f54d88.js.map