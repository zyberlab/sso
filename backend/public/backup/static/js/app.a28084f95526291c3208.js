webpackJsonp([1],{"+vOg":function(t,e,a){"use strict";a.d(e,"b",function(){return o}),a.d(e,"a",function(){return i});var r=a("Vjoj"),n=a("P7rh"),s=a("g0X3"),o=a("DmT9")(""),i=r();i.configure(n({storage:window.localStorage})).configure(s(o,{timeout:2e4}))},0:function(t,e){},"0ekW":function(t,e){},"2d5O":function(t,e){},"7Ts1":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={name:"admin",data:function(){return{dialog:!1,drawer:null,items:[{icon:"supervisor_account",text:"Employees",url:"Employees"}]}},computed:{employeesListView:function(){return this.$store.getters["user/GET_EMPLOYEES_LIST_VIEW"]}},methods:{changeEmployeesView:function(){var t="grid"===this.employeesListView?"list":"grid";this.$store.commit("user/SET_EMPLOYEES_LIST_VIEW",t)}},props:{source:String}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-navigation-drawer",{attrs:{fixed:"",clipped:t.$vuetify.breakpoint.mdAndUp,app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-list",{attrs:{dense:""}},[t._l(t.items,function(e){return[e.heading?a("v-layout",{key:e.heading,attrs:{row:"","align-center":""}},[a("v-flex",{attrs:{xs6:""}},[e.heading?a("v-subheader",[t._v("\n\t\t\t\t\t\t\t"+t._s(e.heading)+"\n\t\t\t\t\t\t")]):t._e()],1),t._v(" "),a("v-flex",{staticClass:"text-xs-center",attrs:{xs6:""}},[a("a",{staticClass:"body-2 black--text",attrs:{href:"#!"}},[t._v("EDIT")])])],1):e.children?a("v-list-group",{key:e.text,attrs:{"prepend-icon":e.model?e.icon:e["icon-alt"],"append-icon":""},model:{value:e.model,callback:function(a){t.$set(e,"model",a)},expression:"item.model"}},[a("v-list-tile",{attrs:{slot:"activator"},slot:"activator"},[a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.text)+"\n\t\t\t\t\t\t\t")])],1)],1),t._v(" "),t._l(e.children,function(e,r){return a("v-list-tile",{key:r},[e.icon?a("v-list-tile-action",[a("v-icon",[t._v(t._s(e.icon))])],1):t._e(),t._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.text)+"\n\t\t\t\t\t\t\t")])],1)],1)})],2):a("v-list-tile",{key:e.text,attrs:{to:{name:e.url},ripple:""}},[a("v-list-tile-action",[a("v-icon",[t._v(t._s(e.icon))])],1),t._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n\t\t\t\t\t\t\t"+t._s(e.text)+"\n\t\t\t\t\t\t")])],1)],1)]})],2)],1),t._v(" "),a("v-toolbar",{attrs:{color:"blue darken-3",dark:"",app:"","clipped-left":t.$vuetify.breakpoint.mdAndUp,fixed:""}},[a("v-toolbar-title",{staticClass:"ml-0 pl-3",staticStyle:{width:"300px"}},[a("v-toolbar-side-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),t._v(" "),a("span",{staticClass:"hidden-sm-and-down"},[t._v("SSO Management")])],1),t._v(" "),a("v-text-field",{staticClass:"hidden-sm-and-down",attrs:{flat:"","solo-inverted":"","prepend-icon":"search",label:"Search"}}),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{icon:""},on:{click:t.changeEmployeesView}},["list"===t.employeesListView?a("v-icon",[t._v("apps")]):"grid"===t.employeesListView?a("v-icon",[t._v("list")]):t._e()],1)],1),t._v(" "),a("v-content",[a("v-container",{attrs:{fluid:""}},[a("router-view")],1)],1)],1)},staticRenderFns:[]},s=a("VU/8")(r,n,!1,null,null,null);e.default=s.exports},"7zck":function(t,e){},"K+m0":function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("Xxa5"),n=a.n(r),s=a("Dd8w"),o=a.n(s),i=a("exGp"),l=a.n(i),c=a("7+uW"),d=a("/ocq"),u={data:function(){return{valid:!0,idNumber:null,password:null,idNumberRules:[function(t){return!!t||"Enter your ID number"}],passwordRules:[function(t){return!!t||"Enter your password"}],color:"#1565C0",authError:!1,icon:!0,loading:!1}},methods:{submit:function(){var t=this;return l()(n.a.mark(function e(){var a,r;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,e.next=4,t.$store.dispatch("account/LOGIN",{idNumber:t.idNumber,password:t.password});case 4:if(a=e.sent,!(r=t.$route.query.referer)){e.next=9;break}return location.replace(r),e.abrupt("return");case 9:a.roles&&a.roles.sso&&a.roles.sso.includes("admin")?t.$router.push({name:"Employees"}):t.$router.push({name:"Profile"}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),t.$snotify.error("Invalid credentials"),console.error("ERROR!",e.t0);case 16:t.loading=!1;case 17:case"end":return e.stop()}},e,t,[[1,12]])}))()}}},v={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-container"},[a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm8:"",md5:""}},[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-card",{staticClass:"px-5 py-4",attrs:{height:"500",tile:""}},[a("v-card-title",[a("div",{staticClass:" grey--text text--darken-4"},[a("div",{staticClass:"headline"},[t._v("Sign in")]),t._v(" "),a("p",[t._v("Single Sign-On Management System")]),t._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:t.authError,expression:"authError"}],staticClass:"red--text text--darken-1"},[t._v("\n\t\t\t\t\t\t\t\t\tID number or password is incorrect.\n\t\t\t\t\t\t\t\t")])])]),t._v(" "),a("v-card-text",[a("v-text-field",{attrs:{label:"ID Number",type:"text",rules:t.idNumberRules,required:""},on:{keyup:function(e){return"keyCode"in e&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submit(e)}},nativeOn:{keyup:function(e){return"keyCode"in e&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submit(e)}},model:{value:t.idNumber,callback:function(e){t.idNumber=e},expression:"idNumber"}}),t._v(" "),a("v-text-field",{attrs:{label:"Password","append-icon":t.icon?"visibility":"visibility_off",type:t.icon?"password":"text",required:"",rules:t.passwordRules},on:{"click:append":function(e){t.icon=!t.icon}},nativeOn:{keyup:function(e){return"keyCode"in e&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submit(e)}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{staticClass:"blue darken-1 white--text",attrs:{loading:t.loading,disabled:t.loading},on:{click:t.submit}},[t._v("Login")])],1)],1)],1)],1)],1)],1),t._v(" "),a("vue-snotify")],1)},staticRenderFns:[]};var f=a("VU/8")(u,v,!1,function(t){a("0ekW")},"data-v-e362d604",null).exports,p=a("mvHQ"),m=a.n(p),_=a("+vOg"),h=a("//Fk"),x=a.n(h),g=a("fZjL"),y=a.n(g);function w(t){return new x.a(function(e,a){var r=new FileReader;r.readAsDataURL(t),r.onload=function(){console.log(this),e(r.result)},r.onerror=function(t){a(t)}})}function b(t){return new x.a(function(e){var a=new Image;a.onload=function(){var t=document.createElement("canvas");t.width=this.naturalWidth,t.height=this.naturalHeight,t.getContext("2d").drawImage(this,0,0),e({data:t.toDataURL("image/png"),width:t.width,height:t.height})},a.src=t})}function E(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:300,n=Math.min(a/t,r/e);return{width:t*n,height:e*n}}function k(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new x.a(function(r){var n=document.createElement("img");n.onload=function(){var t=document.createElement("canvas"),n=t.getContext("2d");e&&a?(t.width=e,t.height=a,n.drawImage(this,0,0,e,a)):(t.width=this.width,t.height=this.height,n.drawImage(this,0,0,this.width,this.height)),r(t.toDataURL())},n.crossOrigin="anonymous",n.src=t})}var D={props:{loaderDialog:Boolean}},I={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:t.loaderDialog,callback:function(e){t.loaderDialog=e},expression:"loaderDialog"}},[a("v-card",{attrs:{color:"primary",dark:""}},[a("v-card-text",[t._v("\n\t\t\tPlease stand by\n\t\t\t"),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1)},staticRenderFns:[]},T=a("VU/8")(D,I,!1,null,null,null).exports,$={data:function(){return{search:null,loading:!1,rowsPerPage:[10,20,35,{text:"$vuetify.dataIterator.rowsPerPageAll",value:-1}],headers:[{text:"ID number",align:"left",value:"emp_id"},{text:"First name",value:"personal_information.first_name"},{text:"Middle name",value:"personal_information.middle_name"},{text:"Surname",value:"personal_information.surname"},{text:"Appointment",value:"extra_information.appointment"},{text:"Division",value:"extra_information.division.text"},{text:"Actions",value:"_id",sortable:!1}],valid:!0,infoDialog:!1,infoDialogTitle:null,rolesRules:[function(t){return t&&function(t){try{var e=JSON.parse(t);return y()(e).length>0}catch(t){return!1}}(t)||"Invalid string. Data can't be parsed."}],roles:null,loaderDialog:!1,selectedItem:{}}},created:function(){var t=this;return l()(n.a.mark(function e(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,t.$store.dispatch("employee/GET_EMPLOYEES");case 3:t.loading=!1;case 4:case"end":return e.stop()}},e,t)}))()},methods:{openInfoDialog:function(t){var e=this;this.roles=null,this.loaderDialog=!0,this.selectedItem=t,_.a.service("users").get(t._id).then(function(t){e.loaderDialog=!1,t.roles&&(e.roles=m()(t.roles)),e.infoDialogTitle="Roles",e.infoDialog=!0})},saveRoles:function(){this.saveInformation("roles",this.roles)},saveInformation:function(t,e){var a=this;this.$refs.form.validate()&&("roles"===t&&(e=JSON.parse(e)),this.loaderDialog=!0,this.$store.dispatch("account/UPDATE_INFORMATION",{field:t,data:e,userId:this.selectedItem._id}).then(function(t){a.loaderDialog=!1,a.$snotify.success("Roles has been successfully updated")}).catch(function(t){console.log(t),a.loaderDialog=!1,a.$snotify.error("An error occurred")}))},fetchInformation:function(t){return _.a.service("users").get(t)},resetPassword:function(t,e){var a=this;return l()(n.a.mark(function r(){return n.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,confirm("Are you sure?")){r.next=4;break}return r.abrupt("return");case 4:return a.loaderDialog=!0,r.next=7,a.$store.dispatch("account/UPDATE_INFORMATION",{field:"password",data:t,userId:e});case 7:r.sent,a.loaderDialog=!1,a.$snotify.success("Password has been successfully updated"),r.next=17;break;case 12:r.prev=12,r.t0=r.catch(0),a.loaderDialog=!1,a.$snotify.error("An error occurred"),console.log(r.t0);case 17:case"end":return r.stop()}},r,a,[[0,12]])}))()}},watch:{roles:function(t){try{t&&(this.roles=m()(JSON.parse(t),null,2))}catch(t){}}},components:{LoaderDialog:T},computed:{items:function(){return this.$store.state.employee.list}}},O={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl9:""}},[a("v-card",[a("v-card-title",[a("div",{staticClass:"headline"},[t._v("Employees")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),a("v-data-table",{attrs:{"disable-initial-sort":"",headers:t.headers,items:t.items,search:t.search,loading:t.loading,"rows-per-page-items":t.rowsPerPage},scopedSlots:t._u([{key:"items",fn:function(e){return[a("tr",{attrs:{slot:"activator"},slot:"activator"},[a("td",[t._v(t._s(e.item.emp_id))]),t._v(" "),a("td",[t._v(t._s(e.item.personal_information.first_name))]),t._v(" "),a("td",[t._v(t._s(e.item.personal_information.middle_name))]),t._v(" "),a("td",[t._v(t._s(e.item.personal_information.surname))]),t._v(" "),a("td",[t._v(t._s(e.item.extra_information.appointment))]),t._v(" "),a("td",[t._v(t._s(e.item.extra_information.division.text))]),t._v(" "),a("td",[a("v-menu",{attrs:{bottom:"",left:""}},[a("v-btn",{attrs:{slot:"activator",icon:""},slot:"activator"},[a("v-icon",[t._v("more_vert")])],1),t._v(" "),a("v-card",[a("v-card-title",[a("div",{staticClass:"title"},[t._v("Update information")])]),t._v(" "),a("v-list",[a("v-list-tile",{attrs:{ripple:""},on:{click:function(a){return a.preventDefault(),a.stopPropagation(),t.openInfoDialog(e.item)}}},[a("v-list-tile-title",[t._v("Roles")])],1),t._v(" "),a("v-list-tile",{attrs:{ripple:""},on:{click:function(a){return t.resetPassword(e.item.emp_id,e.item._id)}}},[a("v-list-tile-title",[t._v("Reset Password")])],1)],1)],1)],1)],1)])]}}])},[t._v(" "),a("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n\t\t\t\t\t\t\tYour search for "'+t._s(t.search)+'" found no results.\n\t\t\t\t\t\t')])],1)],1)],1)],1)],1),t._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"490"},model:{value:t.infoDialog,callback:function(e){t.infoDialog=e},expression:"infoDialog"}},[a("v-card",[a("v-card-title",{staticClass:"primary"},[a("div",{staticClass:"headline white--text"},[t._v(t._s(t.infoDialogTitle))])]),t._v(" "),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-textarea",{attrs:{rules:t.rolesRules,rows:"15"},model:{value:t.roles,callback:function(e){t.roles=e},expression:"roles"}})],1)],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"grey darken-1",flat:""},nativeOn:{click:function(e){t.infoDialog=!1}}},[t._v("Close")]),t._v(" "),a("v-btn",{attrs:{color:"primary"},on:{click:t.saveRoles}},[t._v("Save")])],1)],1)],1),t._v(" "),a("LoaderDialog",{attrs:{loaderDialog:t.loaderDialog}}),t._v(" "),a("vue-snotify")],1)},staticRenderFns:[]},S=a("VU/8")($,O,!1,null,null,null).exports,A=a("woOf"),N=a.n(A),P={props:{data:Object,title:String,flat:Boolean},data:function(){return{valid:!0,rules:[function(t){return!!t||"This field is required"}],emailRules:[function(t){return!!t||"This field is required"},function(t){return/.+@.+/.test(t)||"E-mail must be valid"}]}},methods:{validateFields:function(){this.$emit("personalInfoValid",this.$refs.form.validate())},resetValidation:function(){this.$refs.form.resetValidation()}}},C={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{flat:t.flat}},[t.title?a("v-card-title",[a("div",{staticClass:"headline"},[t._v(t._s(t.title))]),t._v(" "),a("v-spacer")],1):t._e(),t._v(" "),t.title?a("v-divider"):t._e(),t._v(" "),a("v-card-text",[a("v-container",{attrs:{fluid:""}},[a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs4:""}},[a("v-subheader",[t._v("First name")])],1),t._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{required:"",rules:t.rules},model:{value:t.data.first_name,callback:function(e){t.$set(t.data,"first_name",e)},expression:"data.first_name"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs4:""}},[a("v-subheader",[t._v("Middle name")])],1),t._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{required:"",rules:t.rules},model:{value:t.data.middle_name,callback:function(e){t.$set(t.data,"middle_name",e)},expression:"data.middle_name"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs4:""}},[a("v-subheader",[t._v("Last name")])],1),t._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{required:"",rules:t.rules},model:{value:t.data.surname,callback:function(e){t.$set(t.data,"surname",e)},expression:"data.surname"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs4:""}},[a("v-subheader",[t._v("Extension")])],1),t._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{model:{value:t.data.name_extension,callback:function(e){t.$set(t.data,"name_extension",e)},expression:"data.name_extension"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs4:""}},[a("v-subheader",[t._v("Email address")])],1),t._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{required:"",rules:t.emailRules},model:{value:t.data.email,callback:function(e){t.$set(t.data,"email",e)},expression:"data.email"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs4:""}},[a("v-subheader",[t._v("Birthday")])],1),t._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{directives:[{name:"mask",rawName:"v-mask",value:"####-##-##",expression:"'####-##-##'"}],attrs:{required:"",rules:t.rules},model:{value:t.data.birthday,callback:function(e){t.$set(t.data,"birthday",e)},expression:"data.birthday"}})],1)],1)],1)],1)],1)],1)},staticRenderFns:[]},L=a("VU/8")(P,C,!1,null,null,null).exports,R=a("NYxO"),U={data:function(){return{loading:!1,personal_information:{},loaderDialog:!1}},created:function(){this.personal_information=N()({},this.employee_data.personal_information)},methods:{save:function(){var t=this;this.loaderDialog=!0,this.$store.dispatch("account/UPDATE_INFORMATION",{field:"personal_information",data:this.personal_information}).then(function(e){t.loaderDialog=!1,t.$snotify.success("Personal information updated")}).catch(function(e){console.log(e),t.loaderDialog=!1,t.$snotify.error("An error occurred")})}},computed:o()({},Object(R.b)({employee_data:"account/GET_EMPLOYEE_DATA"})),components:{PersonalInformation:L,LoaderDialog:T}},M={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl9:""}},[a("v-card",[a("PersonalInformation",{ref:"personalInfo",attrs:{data:t.personal_information,flat:!0,title:"Personal Information"},on:{personalInfoValid:function(e){return e?t.save():null}}}),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.$refs.personalInfo.validateFields()}}},[t._v("Save")])],1)],1)],1)],1)],1),t._v(" "),a("LoaderDialog",{attrs:{loaderDialog:t.loaderDialog}}),t._v(" "),a("vue-snotify")],1)},staticRenderFns:[]};var V=a("VU/8")(U,M,!1,function(t){a("jxF9")},"data-v-c941d932",null).exports,F={props:{data:Object,title:String,flat:Boolean,idNumberField:Boolean},created:function(){this.fetchDivisions()},data:function(){return{divisions:[],sections:[],valid:!0,rules:[function(t){return!!t||"This field is required"}]}},methods:{fetchDivisions:function(){var t=this;return l()(n.a.mark(function e(){var a;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("division/GET_DIVISIONS");case 2:a=e.sent,t.divisions=a.map(function(t){return{text:t.name,sections:t.sections.map(function(t){return{text:t.name,value:t.name}}),value:t.name}}),t.data.section&&(t.sections=t.divisions.filter(function(e){return-1!==e.sections.findIndex(function(e){return e.text===t.data.section.text})}).map(function(t){return t.sections})[0]);case 5:case"end":return e.stop()}},e,t)}))()},validateFields:function(){console.log("res",this.$refs.form.validate()),this.$emit("extraInfoValid",this.$refs.form.validate())},resetValidation:function(){this.$refs.form.resetValidation()}},watch:{"data.division":function(t){var e=this.divisions.findIndex(function(e){return e.text===t.text});-1!==e&&(this.sections=this.divisions[e].sections)}}},q={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{flat:t.flat}},[t.title?a("v-card-title",[a("div",{staticClass:"headline"},[t._v(t._s(t.title))]),t._v(" "),a("v-spacer")],1):t._e(),t._v(" "),t.title?a("v-divider"):t._e(),t._v(" "),a("v-card-text",[a("v-container",{attrs:{fluid:""}},[a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs4:""}},[a("v-subheader",[t._v("Division")])],1),t._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-select",{attrs:{required:"",rules:t.rules,items:t.divisions,label:"Select","item-text":"text","item-value":"value","return-object":""},model:{value:t.data.division,callback:function(e){t.$set(t.data,"division",e)},expression:"data.division"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs4:""}},[a("v-subheader",[t._v("Section")])],1),t._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-select",{attrs:{required:"",rules:t.rules,items:t.sections,label:"Select","item-text":"text","item-value":"value","return-object":""},model:{value:t.data.section,callback:function(e){t.$set(t.data,"section",e)},expression:"data.section"}})],1)],1),t._v(" "),t.idNumberField?a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs4:""}},[a("v-subheader",[t._v("ID Number")])],1),t._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{required:"",rules:t.rules},model:{value:t.data.emp_id,callback:function(e){t.$set(t.data,"emp_id",e)},expression:"data.emp_id"}})],1)],1):t._e(),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs4:""}},[a("v-subheader",[t._v("Position")])],1),t._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{required:"",rules:t.rules},model:{value:t.data.position,callback:function(e){t.$set(t.data,"position",e)},expression:"data.position"}})],1)],1)],1)],1)],1)],1)},staticRenderFns:[]},j=a("VU/8")(F,q,!1,null,null,null).exports,Y={data:function(){return{loading:!1,extra_information:{},loaderDialog:!1,divisions:[],sections:[]}},created:function(){this.extra_information=N()({},this.employee_data.extra_information),console.log(this.extra_information)},methods:{test:function(t){console.log(t)},save:function(){var t=this,e=JSON.parse(m()(this.extra_information));delete e.division.sections,this.loaderDialog=!0,this.$store.dispatch("account/UPDATE_INFORMATION",{field:"extra_information",data:e}).then(function(e){console.log(e),t.loaderDialog=!1,t.$snotify.success("Personal information updated")}).catch(function(e){console.log(e),t.loaderDialog=!1,t.$snotify.error("An error occurred")})}},computed:o()({},Object(R.b)({employee_data:"account/GET_EMPLOYEE_DATA"})),components:{ExtraInformation:j,LoaderDialog:T}},G={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl9:""}},[a("v-card",[a("ExtraInformation",{ref:"extraInfo",attrs:{data:t.extra_information,flat:!0,idNumberField:!1,title:"Extra Information"},on:{extraInfoValid:t.test}}),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.save()}}},[t._v("Save")])],1)],1)],1)],1)],1),t._v(" "),a("LoaderDialog",{attrs:{loaderDialog:t.loaderDialog}}),t._v(" "),a("vue-snotify")],1)},staticRenderFns:[]};var H=a("VU/8")(Y,G,!1,function(t){a("K+m0")},"data-v-ad270c88",null).exports,J=(_.a.service("divisions"),{data:function(){return{valid:!0,loading:!1,loaderDialog:!1,password:{new:null,confirm:null},passwordRules:[function(t){return!!t||"This field is required"}],pwordPrependIcon:!0,confirmPrependIcon:!0}},methods:{save:function(){var t=this;this.password.new===this.password.confirm?this.$refs.form.validate()&&(this.loaderDialog=!0,this.$store.dispatch("account/UPDATE_INFORMATION",{field:"password",data:this.password.new}).then(function(e){t.loaderDialog=!1,t.$snotify.success("Password has been successfully updated")}).catch(function(e){console.log(e),t.loaderDialog=!1,t.$snotify.error("An error occurred")})):this.$snotify.error("Passwords did not match")}}}),W={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl9:""}},[a("v-card",[a("v-card-title",[a("div",{staticClass:"headline white--text"},[t._v("Update Password")]),t._v(" "),a("v-spacer")],1),t._v(" "),a("v-divider"),t._v(" "),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs4:""}},[a("v-subheader",[t._v("New Password")])],1),t._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{"append-icon":t.pwordPrependIcon?"visibility":"visibility_off",type:t.pwordPrependIcon?"password":"text",required:"",rules:t.passwordRules},on:{"click:append":function(e){t.pwordPrependIcon=!t.pwordPrependIcon}},model:{value:t.password.new,callback:function(e){t.$set(t.password,"new",e)},expression:"password.new"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs4:""}},[a("v-subheader",[t._v("Confirm Password")])],1),t._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{"append-icon":t.confirmPrependIcon?"visibility":"visibility_off",type:t.confirmPrependIcon?"password":"text",required:"",rules:t.passwordRules},on:{"click:append":function(e){t.confirmPrependIcon=!t.confirmPrependIcon}},model:{value:t.password.confirm,callback:function(e){t.$set(t.password,"confirm",e)},expression:"password.confirm"}})],1)],1)],1)],1)],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"primary"},on:{click:t.save}},[t._v("Save")])],1)],1)],1)],1)],1),t._v(" "),a("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:t.loaderDialog,callback:function(e){t.loaderDialog=e},expression:"loaderDialog"}},[a("v-card",{attrs:{color:"primary",dark:""}},[a("v-card-text",[t._v("\n\t\t\t\tPlease stand by\n\t\t\t\t"),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1),t._v(" "),a("vue-snotify")],1)},staticRenderFns:[]};var z=a("VU/8")(J,W,!1,function(t){a("keo5")},"data-v-6cd02848",null).exports;var B={data:function(){return{valid:!0,loading:!1,loaderDialog:!1,roles:null,rolesRules:[function(t){return t&&function(t){try{var e=JSON.parse(t);return y()(e).length>0}catch(t){return!1}}(t)||"Invalid string. Data can't be parsed."}]}},created:function(){this.fetchInformation()},methods:{fetchInformation:function(){var t=this;this.$store.dispatch("account/GET_INFORMATION").then(function(e){e.roles&&(t.roles=m()(e.roles))}).catch(function(t){console.log(t)})},save:function(){var t=this;this.$refs.form.validate()&&(this.loaderDialog=!0,this.$store.dispatch("account/UPDATE_INFORMATION",{field:"roles",data:JSON.parse(this.roles)}).then(function(e){t.loaderDialog=!1,t.$snotify.success("Roles has been successfully updated")}).catch(function(e){console.log(e),t.loaderDialog=!1,t.$snotify.error("An error occurred")}))}},watch:{roles:function(t){try{this.roles=m()(JSON.parse(t),null,2)}catch(t){}}}},K={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl9:""}},[a("v-card",[a("v-card-title",{staticClass:"info"},[a("div",{staticClass:"headline white--text"},[t._v("Roles")]),t._v(" "),a("v-spacer")],1),t._v(" "),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs4:""}},[a("v-subheader",[t._v("Metadata")])],1),t._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-textarea",{attrs:{rules:t.rolesRules,rows:"15"},model:{value:t.roles,callback:function(e){t.roles=e},expression:"roles"}})],1)],1)],1)],1)],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"primary"},on:{click:t.save}},[t._v("Save")])],1)],1)],1)],1)],1),t._v(" "),a("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:t.loaderDialog,callback:function(e){t.loaderDialog=e},expression:"loaderDialog"}},[a("v-card",{attrs:{color:"primary",dark:""}},[a("v-card-text",[t._v("\n\t          Please stand by\n\t          "),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1),t._v(" "),a("vue-snotify")],1)},staticRenderFns:[]},X=a("VU/8")(B,K,!1,null,null,null).exports,Q={data:function(){return{step:1,personal_information:{},extra_information:{},loaderDialog:!1}},components:{PersonalInformation:L,ExtraInformation:j,LoaderDialog:T},methods:{save:function(){var t=this;return l()(n.a.mark(function e(){var a,r,s;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.loaderDialog=!0,e.prev=1,delete(a=JSON.parse(m()(t.extra_information))).division.sections,e.prev=4,e.next=7,t.$store.dispatch("account/CHECK_ID_NUMBER",a.emp_id);case 7:if(r=e.sent,console.log("Search result",r),!r.exists){e.next=13;break}return t.$snotify.error("ID Number already exists!"),t.loaderDialog=!1,e.abrupt("return");case 13:e.next=21;break;case 15:return e.prev=15,e.t0=e.catch(4),console.log(e.t0),t.$snotify.error("An error occurred"),t.loaderDialog=!1,e.abrupt("return");case 21:return s={email:a.emp_id+"@mail.com",password:a.emp_id,emp_id:a.emp_id,personal_information:t.personal_information,extra_information:a},e.next=24,t.$store.dispatch("account/SAVE_EMPLOYEE",s);case 24:t.personal_information={},t.extra_information={},t.$refs.personalInfo.resetValidation(),t.$refs.extraInfo.resetValidation(),t.step=1,t.$snotify.success("New user has been successfully added!"),e.next=36;break;case 32:e.prev=32,e.t1=e.catch(1),console.log(e.t1),t.$snotify.error("An error occurred");case 36:t.loaderDialog=!1;case 37:case"end":return e.stop()}},e,t,[[1,32],[4,15]])}))()}}},Z={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl9:""}},[a("v-stepper",{model:{value:t.step,callback:function(e){t.step=e},expression:"step"}},[a("v-stepper-header",[a("v-stepper-step",{attrs:{complete:t.step>1,step:"1"}},[t._v("Personal Information")]),t._v(" "),a("v-divider"),t._v(" "),a("v-stepper-step",{attrs:{complete:t.step>2,step:"2"}},[t._v("Extra Information")])],1),t._v(" "),a("v-stepper-items",[a("v-stepper-content",{attrs:{step:"1"}},[a("v-card",[a("PersonalInformation",{ref:"personalInfo",attrs:{data:t.personal_information,flat:!0},on:{personalInfoValid:function(e){return t.step=e?2:1}}}),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.$refs.personalInfo.validateFields()}}},[t._v("Next")])],1)],1)],1),t._v(" "),a("v-stepper-content",{attrs:{step:"2"}},[a("v-card",[a("ExtraInformation",{ref:"extraInfo",attrs:{data:t.extra_information,flat:!0,idNumberField:!0},on:{extraInfoValid:function(e){return e?t.save():null}}}),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"primary"},on:{click:function(e){t.step=1}}},[t._v("Back")]),t._v(" "),a("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.$refs.extraInfo.validateFields()}}},[t._v("Save")])],1)],1)],1)],1)],1)],1)],1)],1),t._v(" "),a("LoaderDialog",{attrs:{loaderDialog:t.loaderDialog}}),t._v(" "),a("vue-snotify")],1)},staticRenderFns:[]},tt=a("VU/8")(Q,Z,!1,null,null,null).exports,et={data:function(){return{loading:!1,loaderDialog:!1}},created:function(){},methods:{save:function(){var t=this;return l()(n.a.mark(function e(){var a,r,s,o,i,l,c,d;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((a=t.$refs.file.files).length){e.next=4;break}return t.$snotify.error("No file chosen"),e.abrupt("return");case 4:return t.loaderDialog=!0,e.prev=5,e.next=8,w(a[0]);case 8:return r=e.sent,e.next=11,b(r);case 11:return s=e.sent,o=E(s.width,s.height),i=o.width,l=o.height,e.next=15,k(r,i,l);case 15:return c=e.sent,(d=JSON.parse(m()(t.account.extra_information))).signature=c,e.next=20,t.$store.dispatch("account/UPDATE_INFORMATION",{field:"extra_information",data:d});case 20:t.$snotify.success("E-Signature has been successfully uploaded"),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(5),console.log(e.t0);case 26:t.loaderDialog=!1;case 27:case"end":return e.stop()}},e,t,[[5,23]])}))()}},computed:{account:function(){return this.$store.getters["account/GET_EMPLOYEE_DATA"]}},components:{LoaderDialog:T}},at={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl9:""}},[a("v-card",[a("v-card-title",{staticClass:"info"},[a("div",{staticClass:"headline white--text"},[t._v("Signature")]),t._v(" "),a("v-spacer")],1),t._v(" "),a("v-card-text",[t.account.extra_information.signature?a("v-avatar",{attrs:{size:"200",tile:""}},[a("v-img",{attrs:{src:t.account.extra_information.signature}},[a("v-layout",{attrs:{slot:"placeholder","fill-height":"","align-center":"","justify-center":"","ma-0":""},slot:"placeholder"},[a("v-progress-circular",{attrs:{indeterminate:"",color:"grey lighten-5"}})],1)],1)],1):t._e(),t._v(" "),a("div",{staticClass:"my-3"}),t._v(" "),a("input",{ref:"file",attrs:{type:"file"}})],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"primary"},on:{click:t.save}},[t._v("Upload")])],1)],1)],1)],1)],1),t._v(" "),a("LoaderDialog",{attrs:{loaderDialog:t.loaderDialog}}),t._v(" "),a("vue-snotify")],1)},staticRenderFns:[]};var rt=a("VU/8")(et,at,!1,function(t){a("NsSV")},"data-v-0f16501e",null).exports,nt=a("2aIq"),st=a.n(nt),ot={namespaced:!0,state:{employee_data:{},isAuthenticated:!1},getters:{GET_EMPLOYEE_DATA:function(t){return t.employee_data}},mutations:{SET_EMPLOYEE_DATA:function(t,e){t.employee_data=e},SET_AUTHENTICATED:function(t,e){t.isAuthenticated=e}},actions:{LOGIN:function(t,e){var a=this,r=t.commit;return l()(n.a.mark(function t(){var s,o,i,l;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s=e.idNumber+"@mail.com",t.next=4,_.a.authenticate({strategy:"local",email:s,password:e.password});case 4:return o=t.sent,t.next=7,_.a.passport.verifyJWT(o.accessToken);case 7:return i=t.sent,t.next=10,_.a.service("users").get(i.userId);case 10:return l=t.sent,console.log(l),r("SET_AUTHENTICATED",!0),r("SET_EMPLOYEE_DATA",l),t.abrupt("return",l);case 17:throw t.prev=17,t.t0=t.catch(0),t.t0;case 20:case"end":return t.stop()}},t,a,[[0,17]])}))()},GET_INFORMATION:function(t){var e=this;return st()(t),l()(n.a.mark(function t(){var a,r;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_.a.authenticate();case 3:return a=t.sent.accessToken,t.next=6,_.a.passport.verifyJWT(a);case 6:return r=t.sent,t.next=9,_.a.service("users").get(r.userId);case 9:return t.abrupt("return",t.sent);case 12:throw t.prev=12,t.t0=t.catch(0),t.t0;case 15:case"end":return t.stop()}},t,e,[[0,12]])}))()},UPDATE_INFORMATION:function(t,e){var a=this,r=t.commit,s=e.field,o=e.data,i=e.userId;return l()(n.a.mark(function t(){var e,l,c;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,(e={})[s]=o,t.next=5,_.a.authenticate();case 5:return l=t.sent.accessToken,t.next=8,_.a.passport.verifyJWT(l);case 8:return c=t.sent,r("SET_EMPLOYEE_DATA",e),i||(i=c.userId),t.next=13,_.a.service("users").patch(i,e);case 13:return t.abrupt("return",t.sent);case 16:throw t.prev=16,t.t0=t.catch(0),t.t0;case 19:case"end":return t.stop()}},t,a,[[0,16]])}))()},SAVE_EMPLOYEE:function(t,e){var a=this,r=t.commit;return l()(n.a.mark(function t(){var s;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.a.service("users").create(e);case 2:return s=t.sent,r("employee/ADD_TO_LIST",s,{root:!0}),t.abrupt("return",s);case 5:case"end":return t.stop()}},t,a)}))()},CHECK_AUTHENTICATION:function(t){var e=this,a=t.commit;return l()(n.a.mark(function t(){var r,s,o,i,l,c;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(r=localStorage.getItem("sso-jwt"))){t.next=11;break}return t.next=5,_.a.passport.verifyJWT(r);case 5:return s=t.sent,t.next=8,_.a.service("users").get(s.userId);case 8:return o=t.sent,console.log("User",o),t.abrupt("return");case 11:return t.next=13,_.a.authenticate();case 13:return i=t.sent.accessToken,t.next=16,_.a.passport.verifyJWT(i);case 16:return l=t.sent.userId,t.next=19,_.a.service("users").get(l);case 19:return c=t.sent,a("SET_AUTHENTICATED",!0),a("SET_EMPLOYEE_DATA",c),t.abrupt("return",c);case 25:throw t.prev=25,t.t0=t.catch(0),t.t0;case 28:case"end":return t.stop()}},t,e,[[0,25]])}))()},CHECK_ID_NUMBER:function(t,e){var a=this;return st()(t),l()(n.a.mark(function t(){var r;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_.a.service("users").find({query:{emp_id:e}});case 3:return r=t.sent,t.abrupt("return",{exists:r.data.length>0,data:r.data});case 7:throw t.prev=7,t.t0=t.catch(0),t.t0;case 10:case"end":return t.stop()}},t,a,[[0,7]])}))()}}},it={namespaced:!0,state:{},getters:{},mutations:{},actions:{GET_DIVISIONS:function(t){return st()(t),_.a.service("divisions").find({query:{$paginate:{value:!1}}})}}},lt={namespaced:!0,state:{list:[],isLoaded:!1},mutations:{SET_LIST:function(t,e){t.list=e},SET_IS_LOADED:function(t,e){t.isLoaded=e},ADD_TO_LIST:function(t,e){t.list.push(e)}},actions:{GET_EMPLOYEES:function(t){var e=this,a=t.state,r=t.commit;return l()(n.a.mark(function t(){var s;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.isLoaded){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,_.a.service("users").find({query:{$paginate:{value:!1}}});case 5:s=t.sent,r("SET_LIST",s),r("SET_IS_LOADED",!0),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),console.log("Error loading employees"),console.log(t.t0);case 14:case"end":return t.stop()}},t,e,[[2,10]])}))()}}};c.default.use(R.a);var ct=new R.a.Store({modules:{account:ot,division:it,employee:lt}}),dt=this;c.default.use(d.a);var ut,vt=new d.a({routes:[{path:"/",name:"Login",component:f},{path:"/employees",name:"Employees",component:S,meta:{layout:"employee"}},{path:"/profile",name:"Profile",component:V,meta:{layout:"employee"}},{path:"/extra-information",name:"ExtraInformation",component:H,meta:{layout:"employee"}},{path:"/update-password",name:"UpdatePassword",component:z,meta:{layout:"employee"}},{path:"/roles",name:"Roles",component:X,meta:{layout:"employee"}},{path:"/new-employee",name:"NewEmployee",component:tt,meta:{layout:"employee"}},{path:"/signature",name:"Signature",component:rt,meta:{layout:"employee"}}]});function ft(){try{return window.self!==window.top}catch(t){return!0}}vt.beforeEach((ut=l()(n.a.mark(function t(e,a,r){var s,o,i;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=ct.state.account,o=s.isAuthenticated,i=s.employee_data,!ft()){t.next=4;break}return o?window.parent.postMessage({action:"LOGIN",success:!0,user:i,token:localStorage.getItem("feathers-jwt")},"*"):window.parent.postMessage({action:"LOGIN",success:!1},"*"),t.abrupt("return");case 4:if(!o){t.next=19;break}if("/"!==e.path){t.next=9;break}r({path:"/profile"}),t.next=17;break;case 9:if("/logout"!==e.path||!e.query.continue){t.next=16;break}return t.next=12,_.a.logout();case 12:ct.commit("account/SET_AUTHENTICATED",!1),location.replace(e.query.continue),t.next=17;break;case 16:r();case 17:t.next=20;break;case 19:"/"!==e.path?r({path:"/"}):r();case 20:case"end":return t.stop()}},t,dt)})),function(t,e,a){return ut.apply(this,arguments)}));var pt=vt,mt=a("3EgV"),_t=a.n(mt),ht=(a("7zck"),a("c4So")),xt=a("cTzj"),gt=a.n(xt),yt=a("OjAt"),wt=a.n(yt),bt=a("HgYs"),Et=(a("2d5O"),a("1I9z")),kt=function(){var t=l()(n.a.mark(function t(){return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!Dt){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,ct.dispatch("account/CHECK_AUTHENTICATION");case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),console.log("Not authenticated");case 10:Dt=new c.default(o()({el:"#app",store:ct,router:pt},ht.layout));case 11:case"end":return t.stop()}},t,this,[[2,7]])}));return function(){return t.apply(this,arguments)}}();c.default.use(_t.a),c.default.use(ht.VueExtendLayout),c.default.use(gt.a,{silent:!0}),c.default.use(wt.a),c.default.use(bt.b,{toast:{position:bt.a.rightTop,timeout:3e3}}),c.default.directive("mask",Et.a),c.default.config.productionTip=!1;var Dt=void 0;kt(),_.b.on("LOG_OUT",function(t){window.parent.postMessage({action:"LOG_OUT",userId:t},"*")})},NsSV:function(t,e){},Yekr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("Dd8w"),n=a.n(r),s=a("+vOg"),o=a("NYxO"),i="SSO_THEME";var l={name:"employee",data:function(){return{dialog:!1,drawer:null,items:[{icon:"account_circle",text:"Profile",url:"Profile"},{icon:"assignment",text:"Extra Information",url:"ExtraInformation"},{icon:"lock",text:"Update Password",url:"UpdatePassword"}],isDark:"dark"===(t=localStorage.getItem(i),void 0!==t?t:"light")};var t},computed:n()({},Object(o.b)({employee_data:"account/GET_EMPLOYEE_DATA"})),created:function(){this.employee_data.roles&&this.employee_data.roles.sso&&this.employee_data.roles.sso.includes("admin")&&(this.items.unshift({divider:!0}),this.items.unshift({icon:"person_add",text:"New Employee",url:"NewEmployee"}),this.items.unshift({icon:"people",text:"Employees",url:"Employees"}))},methods:{logout:function(){var t=this;s.a.logout().then(function(){t.$store.commit("account/SET_AUTHENTICATED",!1),t.$store.commit("account/SET_EMPLOYEE_DATA",{}),t.$router.push({name:"Login"})})}},props:{source:String},watch:{isDark:function(t){localStorage.setItem(i,t?"dark":"light")}}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{dark:t.isDark}},[a("v-navigation-drawer",{attrs:{fixed:"",clipped:t.$vuetify.breakpoint.mdAndUp,app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-list",{attrs:{dense:""}},[t._l(t.items,function(e,r){return[e.heading?a("v-layout",{key:e.heading,attrs:{row:"","align-center":""}},[a("v-flex",{attrs:{xs6:""}},[e.heading?a("v-subheader",[t._v(t._s(e.heading))]):t._e()],1),t._v(" "),a("v-flex",{staticClass:"text-xs-center",attrs:{xs6:""}},[a("a",{staticClass:"body-2 black--text",attrs:{href:"#!"}},[t._v("EDIT")])])],1):e.divider?a("v-divider",{key:r,staticClass:"my-3",attrs:{dark:""}}):e.children?a("v-list-group",{key:e.text,attrs:{"prepend-icon":e.model?e.icon:e["icon-alt"],"append-icon":""},model:{value:e.model,callback:function(a){t.$set(e,"model",a)},expression:"item.model"}},[a("v-list-tile",{attrs:{slot:"activator"},slot:"activator"},[a("v-list-tile-content",[a("v-list-tile-title",[t._v(t._s(e.text))])],1)],1),t._v(" "),t._l(e.children,function(e,r){return a("v-list-tile",{key:r},[e.icon?a("v-list-tile-action",[a("v-icon",[t._v(t._s(e.icon))])],1):t._e(),t._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[t._v(t._s(e.text))])],1)],1)})],2):a("v-list-tile",{key:e.text,attrs:{to:{name:e.url},ripple:""}},[a("v-list-tile-action",[a("v-icon",[t._v(t._s(e.icon))])],1),t._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[t._v(t._s(e.text))])],1)],1)]})],2)],1),t._v(" "),a("v-toolbar",{attrs:{app:"","clipped-left":t.$vuetify.breakpoint.mdAndUp,fixed:""}},[a("v-toolbar-title",{staticClass:"ml-0 pl-3",staticStyle:{width:"300px"}},[a("v-toolbar-side-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),t._v(" "),a("span",{staticClass:"hidden-sm-and-down"},[t._v("SSO Management")])],1),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{icon:"",title:"Switch theme"},on:{click:function(e){t.isDark=!t.isDark}}},[a("v-icon",[t._v(t._s(t.isDark?"nights_stay":"wb_sunny"))])],1),t._v(" "),a("v-btn",{attrs:{icon:"",title:"Log out"},on:{click:t.logout}},[a("v-icon",[t._v("exit_to_app")])],1)],1),t._v(" "),a("v-content",[a("router-view")],1)],1)},staticRenderFns:[]},d=a("VU/8")(l,c,!1,null,null,null);e.default=d.exports},jxF9:function(t,e){},kDKJ:function(t,e,a){var r={"./admin.vue":"7Ts1","./default.vue":"lfHO","./employee.vue":"Yekr"};function n(t){return a(s(t))}function s(t){var e=r[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}n.keys=function(){return Object.keys(r)},n.resolve=s,t.exports=n,n.id="kDKJ"},keo5:function(t,e){},lfHO:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("v-app",{attrs:{id:"inspire"}},[e("v-content",[e("router-view")],1)],1)},staticRenderFns:[]},n=a("VU/8")({name:"default"},r,!1,null,null,null);e.default=n.exports}},["NHnr"]);
//# sourceMappingURL=app.a28084f95526291c3208.js.map